<!DOCTYPE html>

<html lang="it" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>6.2. Ciclo di Vita degli Attestati Elettronici &#8212; IT-Wallet Technical Documentation - Release 1.0 - 1.0.0</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/basic_mod.css?v=9b2032db" />
    <link rel="stylesheet" type="text/css" href="_static/itwallet-override.css?v=63798874" />
    <script src="_static/documentation_options.js?v=3fd72285"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/translations.js?v=da26b4cc"></script>
    <script src="_static/js/theme.js"></script>
    <script src="_static/js/petite-vue.js"></script>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/15377824?s=48&amp;v=4"/>
    <link rel="index" title="Indice" href="genindex.html" />
    <link rel="search" title="Cerca" href="search.html" />
    <link rel="next" title="6.3. Catalogo degli Attestati Elettronici" href="registry-catalogue.html" />
    <link rel="prev" title="6.1. Modello di Dati degli Attestati Elettronici" href="credential-data-model.html" /> 
  </head><body data-dark_mode_code_blocks="true">

<div id="top_nav">
    

    <nav>
        
            
        

        <p id="toggle_sidebar">
            <a href="#" title="Toggle sidebar">|||</a>
        </p>
        <h1><a href="index.html" title="Go to homepage">IT-Wallet Technical Documentation - Release 1.0 - 1.0.0</a></h1>
            <a id="source_link" href="https://github.com/italia/eudi-wallet-it-docs">
    
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
            <path fill="white" d="M 244.8,8 C 106.1,8 0,113.3 0,252 c 0,110.9 69.8,205.8 169.5,239.2 12.8,2.3 17.3,-5.6 17.3,-12.1 0,-6.2 -0.3,-40.4 -0.3,-61.4 0,0 -70,15 -84.7,-29.8 0,0 -11.4,-29.1 -27.8,-36.6 0,0 -22.9,-15.7 1.6,-15.4 0,0 24.9,2 38.6,25.8 21.9,38.6 58.6,27.5 72.9,20.9 2.3,-16 8.8,-27.1 16,-33.7 -55.9,-6.2 -112.3,-14.3 -112.3,-110.5 0,-27.5 7.6,-41.3 23.6,-58.9 -2.6,-6.5 -11.1,-33.3 2.6,-67.9 20.9,-6.5 69,27 69,27 20,-5.6 41.5,-8.5 62.8,-8.5 21.3,0 42.8,2.9 62.8,8.5 0,0 48.1,-33.6 69,-27 13.7,34.7 5.2,61.4 2.6,67.9 16,17.7 25.8,31.5 25.8,58.9 0,96.5 -58.9,104.2 -114.8,110.5 9.2,7.9 17,22.9 17,46.4 0,33.7 -0.3,75.4 -0.3,83.6 0,6.5 4.6,14.4 17.3,12.1 C 428.2,457.8 496,362.9 496,252 496,113.3 383.5,8 244.8,8 Z"/>
        </svg>
    
</a>
        

        <a id="mode_toggle" href="#" @click.prevent="handleClick" :title="mode">
    <template v-if="mode == 'light'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_light"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M67.48,18.073c1.913,-1.912 1.913,-5.018 0,-6.931c-1.912,-1.912 -5.018,-1.912 -6.931,0l-6.798,6.799c-1.912,1.912 -1.912,5.018 0,6.931c1.913,1.912 5.018,1.912 6.931,-0l6.798,-6.799Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.728,61.108c1.912,-1.913 1.912,-5.018 -0,-6.931c-1.913,-1.913 -5.019,-1.913 -6.931,-0l-6.799,6.798c-1.912,1.913 -1.912,5.019 0,6.931c1.913,1.913 5.019,1.913 6.931,0l6.799,-6.798Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.682,54.177c-1.913,-1.913 -5.018,-1.913 -6.931,-0c-1.912,1.913 -1.912,5.018 0,6.931l6.798,6.798c1.913,1.913 5.019,1.913 6.931,0c1.913,-1.912 1.913,-5.018 0,-6.931l-6.798,-6.798Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M4.901,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901l-0,9.614c-0,2.705 2.196,4.901 4.9,4.901c2.705,-0 4.901,-2.196 4.901,-4.901l0,-9.614Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M18.929,11.142c-1.912,-1.912 -5.018,-1.912 -6.931,0c-1.912,1.913 -1.912,5.019 0,6.931l6.799,6.799c1.912,1.912 5.018,1.912 6.931,-0c1.912,-1.913 1.912,-5.019 -0,-6.931l-6.799,-6.799Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.108,34.623c-2.705,0 -4.901,2.196 -4.901,4.901c-0,2.705 2.196,4.901 4.901,4.901l9.614,0c2.705,0 4.901,-2.196 4.901,-4.901c-0,-2.705 -2.196,-4.901 -4.901,-4.901l-9.614,0Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'dark'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_dark"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><circle cx="39.311" cy="39.524" r="15.734" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.212,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.901,2.196 -4.901,4.901c0,2.705 2.197,4.901 4.901,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.662,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.989,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.732,61.103c1.91,-1.91 1.91,-5.011 0,-6.921l-0.009,-0.01c-1.91,-1.91 -5.012,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.909,1.91 5.011,1.91 6.92,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.672,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.52,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l-0,-0.01c-0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.212,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.901,2.196 -4.901,4.901c0,2.704 2.197,4.9 4.901,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.73,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 -0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.098,34.623c-2.699,0 -4.891,2.192 -4.891,4.892l-0,0.019c-0,2.699 2.192,4.891 4.891,4.891c2.7,0 4.892,-2.192 4.892,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.892,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>

    <template v-if="mode == 'darkest'">
        <svg width="100%" height="100%" viewBox="0 0 79 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><g id="mode_darkest"><rect id="Bounds" x="0" y="-0" width="78.623" height="79.049" style="fill:none;"/><path d="M39.315,23.791c8.684,-0 15.734,7.05 15.734,15.733c0,8.684 -7.05,15.734 -15.734,15.734c-8.683,0 -15.733,-7.05 -15.733,-15.734c-0,-8.683 7.05,-15.733 15.733,-15.733Zm0,4.737c6.069,0 10.997,4.927 10.997,10.996c-0,6.069 -4.928,10.996 -10.997,10.996c-6.068,0 -10.996,-4.927 -10.996,-10.996c0,-6.069 4.928,-10.996 10.996,-10.996Z" style="fill:#fff;"/><g id="beams"><g id="beam"><path id="beam1" serif:id="beam" d="M44.216,14.515c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,0 -4.9,2.196 -4.9,4.901c-0,2.705 2.196,4.901 4.9,4.901c2.705,0 4.901,-2.196 4.901,-4.901Z" style="fill:#fff;"/></g><g id="beam2" serif:id="beam"><path id="beam3" serif:id="beam" d="M60.666,24.892c1.902,-1.902 1.902,-4.99 0,-6.892l-0.04,-0.039c-1.901,-1.902 -4.989,-1.902 -6.891,-0c-1.901,1.901 -1.901,4.989 0,6.891l0.04,0.04c1.902,1.901 4.99,1.901 6.891,-0Z" style="fill:#fff;"/></g><g id="beam4" serif:id="beam"><path id="beam5" serif:id="beam" d="M25.737,61.103c1.909,-1.91 1.909,-5.011 -0,-6.921l-0.01,-0.01c-1.91,-1.91 -5.011,-1.91 -6.921,-0c-1.91,1.91 -1.91,5.011 -0,6.921l0.01,0.01c1.91,1.91 5.011,1.91 6.921,-0Z" style="fill:#fff;"/></g><g id="beam6" serif:id="beam"><path id="beam7" serif:id="beam" d="M60.676,54.167c-1.907,-1.907 -5.004,-1.907 -6.911,0l-0.02,0.02c-1.907,1.907 -1.907,5.004 0,6.911c1.907,1.907 5.004,1.907 6.911,-0l0.02,-0.02c1.907,-1.907 1.907,-5.004 0,-6.911Z" style="fill:#fff;"/></g><g id="beam8" serif:id="beam"><path id="beam9" serif:id="beam" d="M14.524,34.623c-2.702,0 -4.896,2.194 -4.896,4.896l0,0.01c0,2.702 2.194,4.896 4.896,4.896c2.702,0 4.896,-2.194 4.896,-4.896l0,-0.01c0,-2.702 -2.194,-4.896 -4.896,-4.896Z" style="fill:#fff;"/></g><g id="beam10" serif:id="beam"><path id="beam11" serif:id="beam" d="M44.216,64.534c0,-2.705 -2.196,-4.901 -4.901,-4.901c-2.704,-0 -4.9,2.196 -4.9,4.901c-0,2.704 2.196,4.9 4.9,4.9c2.705,0 4.901,-2.196 4.901,-4.9Z" style="fill:#fff;"/></g><g id="beam12" serif:id="beam"><path id="beam13" serif:id="beam" d="M25.734,17.943c-1.911,-1.911 -5.015,-1.911 -6.926,0l-0.005,0.005c-1.911,1.911 -1.911,5.015 0,6.926c1.911,1.911 5.015,1.911 6.926,0l0.005,-0.005c1.911,-1.911 1.911,-5.014 0,-6.926Z" style="fill:#fff;"/></g><g id="beam14" serif:id="beam"><path id="beam15" serif:id="beam" d="M64.103,34.623c-2.7,0 -4.892,2.192 -4.892,4.892l-0,0.019c-0,2.699 2.192,4.891 4.892,4.891c2.699,0 4.891,-2.192 4.891,-4.891l0,-0.019c0,-2.7 -2.192,-4.892 -4.891,-4.892Z" style="fill:#fff;"/></g></g></g></svg>
    </template>
</a>

<script>
(function() {
    const LOCAL_STORAGE_KEY = 'piccoloThemeMode'

    var initialMode = localStorage.getItem(LOCAL_STORAGE_KEY)

    if (initialMode) {
        // Make sure the value in local storage is valid
        if (['light', 'dark', 'darkest'].indexOf(initialMode) == -1) {
            initialMode = 'light'
            localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
        }
    } else {
        // Check if the client prefers dark mode
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            initialMode = 'dark'
        } else {
            initialMode = 'light'
        }
        localStorage.setItem(LOCAL_STORAGE_KEY, initialMode)
    }

    document.documentElement.dataset.mode = initialMode

    PetiteVue.createApp({
        'mode': initialMode,
        handleClick() {
            let currentMode = this.mode

            if (currentMode == 'light') {
                this.mode = 'dark'
            } else if (currentMode == 'dark') {
                this.mode = 'darkest'
            } else if (currentMode == 'darkest') {
                this.mode = 'light'
            }

            document.documentElement.dataset.mode = this.mode
            localStorage.setItem(LOCAL_STORAGE_KEY, this.mode)

            console.log(this.mode)
        }
    }).mount('#mode_toggle')
})()
</script>
            <p class="mobile_search_link">
                <a href="search.html" title="Search">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 64" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2">
                        <path d="M14.873 40.009c-2.315-3.943-3.642-8.532-3.642-13.429C11.231 11.91 23.141 0 37.811 0s26.58 11.91 26.58 26.58-11.91 26.58-26.58 26.58a26.44 26.44 0 0 1-14.277-4.161L9.739 62.794a3.12 3.12 0 0 1-4.413 0L.913 58.382c-1.217-1.218-1.217-3.196 0-4.413l13.96-13.96zM37.811 8.054c10.225 0 18.526 8.301 18.526 18.526s-8.301 18.526-18.526 18.526-18.526-8.301-18.526-18.526S27.586 8.054 37.811 8.054z" fill="#fff" />
                    </svg>
                </a>
            </p>
        

        <div class="searchbox_wrapper">
            
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Ricerca veloce</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Vai" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
    </nav>
</div>

    
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper"><p class="caption" role="heading"><span class="caption-text">Indice dei Contenuti</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">1. Introduzione</a></li>
<li class="toctree-l1"><a class="reference internal" href="design.html">2. Principi di design</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture-overview.html">3. Panoramica dell'Architettura</a></li>
<li class="toctree-l1"><a class="reference internal" href="trust.html">4. L'Infrastruttura di Trust</a></li>
<li class="toctree-l1"><a class="reference internal" href="entities.html">5. Entità</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="digital-credential-management.html">6. Gestione degli Attestati Elettronici</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="credential-data-model.html">6.1. Modello di Dati degli Attestati Elettronici</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.2. Ciclo di Vita degli Attestati Elettronici</a></li>
<li class="toctree-l2"><a class="reference internal" href="registry-catalogue.html">6.3. Catalogo degli Attestati Elettronici</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="digital-credential-flows.html">7. Flussi relativi agli Attestati Elettronici</a></li>
<li class="toctree-l1"><a class="reference internal" href="endpoints.html">8. Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithms.html">9. Algoritmi Crittografici</a></li>
<li class="toctree-l1"><a class="reference internal" href="security-privacy-considerations.html">10. Considerazioni di Sicurezza e Privacy</a></li>
<li class="toctree-l1"><a class="reference internal" href="log-retention-policy.html">11. Politiche Generali di Conservazione dei Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="defined-terms-and-references.html">12. Termini Definiti e Riferimenti</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">13. Come contribuire</a></li>
<li class="toctree-l1"><a class="reference internal" href="open-source.html">14. Rilasci Open Source</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">15. Appendice</a></li>
</ul>

        </div>
      </div>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="ciclo-di-vita-degli-attestati-elettronici">
<h1><span class="section-number">6.2. </span>Ciclo di Vita degli Attestati Elettronici<a class="headerlink" href="#ciclo-di-vita-degli-attestati-elettronici" title="Link to this heading">¶</a></h1>
<p>Il Fornitore di Attestati Elettronici è responsabile della creazione e del rilascio degli Attestati Elettronici, nonché della gestione del loro ciclo di vita e dello stato di validità.</p>
<p>La Fonte Autentica è l'entità responsabile della gestione e della fornitura degli Attributi dell'Utente ai Fornitori di Attestati Elettronici.
Esiste una relazione tra il ciclo di vita degli attributi gestiti dalla Fonte Autentica e il ciclo di vita degli Attestati Elettronici
gestito dal Fornitore di Attestati Elettronici. Infatti, uno dei motivi per la revoca o la sospensione degli Attestati Elettronici è l'aggiornamento/revoca o
sospensione degli attributi contenuti nell'Attestato Elettronico. In IT Wallet, la fornitura degli Attributi dell'Utente e la notifica di
aggiornamenti o modifiche dei relativi stati vengono gestiti utilizzando l'infrastruttura PDND (vedere le relative sezioni per maggiori dettagli).</p>
<p>La <a class="reference internal" href="#fig-digitalcredential-states"><span class="std std-numref">Fig. 6.1</span></a> mostra gli stati e le transizioni relativi agli Attestati Elettronici.
Include quattro stati distinti: <strong>Issued</strong>, <strong>Valid</strong>, <strong>Expired</strong> e <strong>Revoked</strong>. Mentre, nel caso degli Attestati Elettronici di Attributi (Q)EAA, c'è uno stato aggiuntivo: <strong>Suspended</strong>.
Indipendentemente dallo stato, un Attestato Elettronico può essere eliminato (<strong>PID/(Q)EAA DEL</strong>) e questo termina il suo ciclo di vita.</p>
<figure class="align-default" id="id4">
<span id="fig-digitalcredential-states"></span><p class="plantuml">
<object data="_images/plantuml-3dae4c3fff29c100a8a684c7dbbcaa1d811b4b8d.svg" type="image/svg+xml" style="width:80%">
<a href="_images/plantuml-3dae4c3fff29c100a8a684c7dbbcaa1d811b4b8d.png"><img src="_images/plantuml-3dae4c3fff29c100a8a684c7dbbcaa1d811b4b8d.png" alt="La figura illustra gli Stati degli Attestati Elettronici." style="width: 80.0%"/></a>

</object></p>
<figcaption>
<p><span class="caption-number">Fig. 6.1 </span><span class="caption-text"><a class="reference external" href="https://www.plantuml.com/plantuml/svg/RP9HRzCm4CVV_IbEtSC0AIAK5Q4ze4Lh2fK6b6MRa807BxwrLXmxifsDWFZks8udjr7xLF_kVtS_dN9XBDMsRmNPSOQ0RMS7O6XgpJlBbIHMTM0Lt2jhLGkCQwm39wUGPV0H9Meg7ATRJLimTX1SRbs9c8RBZdh8y87smgwKj1N_W_1clbUiBBLOQAsUBfLG6ku5hPkZzKz8MUX_EorVSOatErut4es1UNJxJ1k4McbdQ81A1iB539XMARj3VUYeLI_PPGZ3F8VuEmL1zHPr70EQCjwRr1P6sg53w9GO_2EszIOXFzkweqIj9JvuQBou2HB-7nH2L2EY1cRk1UDp1l2Nn4pLcmubGmOdgrMnoFF8h_5HDPuktvqjpXQHbhyxhXEDwsyqbOPRhcHO_ZnwRKoFxAk-euApe30IK1e2cpaD6Ar702Tv_Zvt3Wx_UFKBCistEvjzWDXu3flrylMBRo_BelWfrrK5168jPVsaQVJHCsu729-c8V-SvA5UnjIJTDtf7kVmt5tTLfjft4NZYIQhhiixE1AEbvk4o-yRGjBAhEzSzB0vQTn-yI8fFf7O5vY4qlAznK326T974a_WBp_HN9PNvCADwrln7m00">Transazioni di Stato degli Attestati Elettronici.</a></span><a class="headerlink" href="#id4" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Gli Utenti POSSONO presentare un Attestato Elettronico in qualsiasi stato, spetta alla policy della Relying Party accettare un Attestato Elettronico non Valido.
Un esempio di questo scenario è quando una Relying Party deve verificare che l'Utente non sia minorenne. In questo caso, anche se l'Utente presenta un
Attestato Elettronico <strong>Issued/Expired/Revoked</strong> o <strong>Suspended</strong>, l'attributo relativo all'età è ancora affidabile.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Mentre <strong>Issued</strong>, <strong>Valid</strong>, <strong>Expired</strong>, <strong>Revoked</strong> sono esplicitamente menzionati nell'ARF (vedi Figura 5 di ARF v1.4),
<strong>Suspended</strong> è implicitamente presente in <a class="reference external" href="https://github.com/eu-digital-identity-wallet/architecture-and-reference-framework">EIDAS-ARF</a>. Questa specifica lo considera esplicitamente.</p>
</div>
<section id="transizioni-degli-attestati-elettronici">
<h2><span class="section-number">6.2.1. </span>Transizioni degli Attestati Elettronici<a class="headerlink" href="#transizioni-degli-attestati-elettronici" title="Link to this heading">¶</a></h2>
<section id="transizione-dell-attestato-elettronico-a-issued">
<h3><span class="section-number">6.2.1.1. </span>Transizione dell'Attestato Elettronico a Issued<a class="headerlink" href="#transizione-dell-attestato-elettronico-a-issued" title="Link to this heading">¶</a></h3>
<p>Affinché la macchina a stati possa avviarsi, l'Istanza del Wallet DEVE essere nello stato <strong>Operational</strong> o <strong>Valid</strong>, consentendo il rilascio di Attestati Elettronici.
La macchina a stati inizia con lo stato <strong>Issued</strong>, quando viene attivato un processo di emissione e, di conseguenza, un Attestato Elettronico viene rilasciato all'
Istanza del Wallet (<strong>PID/(Q)EAA ISS</strong>). Si prega di fare riferimento a <a class="reference internal" href="credential-issuance.html#emissione-di-attestati-elettronici"><span class="std std-ref">Emissione di Attestati Elettronici</span></a>.</p>
</section>
<section id="transizione-dell-attestato-elettronico-a-valid">
<h3><span class="section-number">6.2.1.2. </span>Transizione dell'Attestato Elettronico a Valid<a class="headerlink" href="#transizione-dell-attestato-elettronico-a-valid" title="Link to this heading">¶</a></h3>
<p>Un Attestato Elettronico passa allo stato <strong>Valid</strong> quando:</p>
<blockquote>
<div><ul class="simple">
<li><p>raggiunge la sua data di inizio validità;</p></li>
<li><p>viene attivato un processo di riattivazione se l'Attestato Elettronico di Attributi (Q)EAA è stato sospeso.</p></li>
</ul>
</div></blockquote>
</section>
<section id="transizione-dell-attestato-elettronico-a-expired">
<h3><span class="section-number">6.2.1.3. </span>Transizione dell'Attestato Elettronico a Expired<a class="headerlink" href="#transizione-dell-attestato-elettronico-a-expired" title="Link to this heading">¶</a></h3>
<p>Un Attestato Elettronico passa naturalmente allo stato <strong>Expired</strong> quando scade automaticamente al raggiungimento della sua data di fine validità (<strong>PID/(Q)EAA EXP</strong>),
indicando che non è più valido per l'uso.</p>
<p>Se un Attestato Elettronico è <strong>Expired</strong>, l'Istanza del Wallet DOVREBBE notificare all'Utente che l'Attestato Elettronico è scaduto e l'Utente PUÒ eliminarlo (<strong>PID/(Q)EAA DEL</strong>).
Questo termina il suo ciclo di vita.</p>
</section>
<section id="transizione-dell-attestato-elettronico-a-revoked">
<h3><span class="section-number">6.2.1.4. </span>Transizione dell'Attestato Elettronico a Revoked<a class="headerlink" href="#transizione-dell-attestato-elettronico-a-revoked" title="Link to this heading">¶</a></h3>
<p>Un Attestato Elettronico passa dagli stati <strong>Issued</strong>, <strong>Valid</strong> o <strong>Suspended</strong> allo stato <strong>Revoked</strong> quando viene attivamente revocato dal Fornitore di Attestati Elettronici
tramite un processo di revoca (<strong>PID/(Q)EAA REV</strong>). Le Relying Party NON DOVREBBERO più considerare utilizzabile un particolare Attestato Elettronico quando è <strong>Revoked</strong>, anche se è
ancora temporalmente valido e contiene una firma valida del Fornitore di Attestati Elettronici. La revoca può avvenire nei seguenti casi:</p>
<blockquote>
<div><ul class="simple">
<li><p>per motivi tecnici di sicurezza relativi alla compromissione del materiale crittografico;</p></li>
<li><p>in caso di richieste esplicite dell'Utente;</p></li>
<li><p>come conseguenza di un aggiornamento degli attributi da parte delle Fonti Autentiche;</p></li>
<li><p>in caso di revoca degli attributi contenuti nell'Attestato Elettronico notificata dalla Fonte Autentica;</p></li>
<li><p>morte dell'Utente;</p></li>
<li><p>revoca dell'Istanza del Wallet a cui è stato rilasciato l'Attestato Elettronico;</p></li>
<li><p>attività illegali dell'Utente segnalate da Organi Giudiziari o di Vigilanza.</p></li>
</ul>
</div></blockquote>
<p>Nel caso del solo Attestato Elettronico di Dati di Identificazione Personale, i seguenti casi si aggiungono a quelli sopra elencati:</p>
<blockquote>
<div><ul class="simple">
<li><p>rilevamento di una violazione dell'identità digitale rilasciata da un Gestore di Identità Digitale e utilizzata per autenticare l'Utente durante il rilascio del PID;</p></li>
<li><p>come risultato dell'ottenimento di un nuovo PID su una nuova Istanza del Wallet dallo stesso Fornitore di Wallet che ha fornito l'Istanza del Wallet contenente un PID precedentemente rilasciato.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Un Fornitore di Attestati Elettronici di Attributi (Q)EAA PUÒ revocare un Attestato Elettronico di Attributi (Q)EAA in caso di revoca del PID.</p>
</div>
<p>Quando un Attestato Elettronico è <strong>Revoked</strong> non può tornare allo stato <strong>Valid</strong>, l'Istanza del Wallet DOVREBBE notificare all'Utente che l'Attestato Elettronico
è stato revocato e l'Utente PUÒ eliminarlo (<strong>PID/(Q)EAA DEL</strong>). Questo termina il suo ciclo di vita.</p>
</section>
<section id="transizione-dell-attestato-elettronico-a-suspended">
<h3><span class="section-number">6.2.1.5. </span>Transizione dell'Attestato Elettronico a Suspended<a class="headerlink" href="#transizione-dell-attestato-elettronico-a-suspended" title="Link to this heading">¶</a></h3>
<p>Un Attestato Elettronico di Attributi (Q)EAA passa dagli stati <strong>Issued</strong> o <strong>Valid</strong> allo stato <strong>Suspended</strong> quando viene sospeso dal Fornitore di Attestati Elettronici (<strong>(Q)EAA SUSP</strong>).
L'Attestato Elettronico di Attributi (Q)EAA rimane <strong>Suspended</strong> fino a quando non viene ripristinato allo stato <strong>Issued</strong> o <strong>Valid</strong> (<strong>(Q)EAA UNSUSP</strong>) a seconda dello stato precedente, cioè
le condizioni che hanno portato alla sua sospensione vengono risolte, o passa a <strong>Revoked</strong>, <strong>Expired</strong> o viene eliminato. La sospensione di un Attestato Elettronico di Attributi (Q)EAA PUÒ essere:</p>
<blockquote>
<div><ul class="simple">
<li><p>Guidata dal caso d'uso, basata sullo stato di validità degli attributi contenuti nell'Attestato Elettronico di Attributi (Q)EAA. In questo caso, una Fonte Autentica DEVE notificare al Fornitore di Attestati Elettronici qualsiasi cambiamento nello stato degli attributi attestati dall'Attestato Elettronico di Attributi (Q)EAA.</p></li>
<li><p>Esplicitamente richiesta dall'Utente.</p></li>
</ul>
</div></blockquote>
</section>
</section>
<section id="gestione-del-ciclo-di-vita-degli-attestati-elettronici">
<h2><span class="section-number">6.2.2. </span>Gestione del Ciclo di Vita degli Attestati Elettronici<a class="headerlink" href="#gestione-del-ciclo-di-vita-degli-attestati-elettronici" title="Link to this heading">¶</a></h2>
<p>Mentre la <a class="reference internal" href="#fig-digitalcredential-states"><span class="std std-numref">Fig. 6.1</span></a> mostra i diversi stati che un Attestato Elettronico può acquisire durante il suo ciclo di vita,
la <a class="reference internal" href="#fig-digitalcredential-lifecycle"><span class="std std-numref">Fig. 6.2</span></a> mostra il punto di vista delle Istanze del Wallet e dei Fornitori di Attestati Elettronici nella gestione del ciclo di vita degli Attestati Elettronici
e l'effetto sul loro storage locale.</p>
<figure class="align-default" id="id5">
<span id="fig-digitalcredential-lifecycle"></span><p class="plantuml">
<object data="_images/plantuml-bc5b7d87c3d88806e480305c9e3630c854e9dcf5.svg" type="image/svg+xml" style="width:99%">
<a href="_images/plantuml-bc5b7d87c3d88806e480305c9e3630c854e9dcf5.png"><img src="_images/plantuml-bc5b7d87c3d88806e480305c9e3630c854e9dcf5.png" alt="La figura illustra il Ciclo di Vita degli Attestati Elettronici." style="width: 99.0%"/></a>

</object></p>
<figcaption>
<p><span class="caption-number">Fig. 6.2 </span><span class="caption-text"><a class="reference external" href="https://www.plantuml.com/plantuml/svg/ZLHTRnCn47pthnYUQAMqLA9FAOM6faYH2gf2IeLQ5BbtUuc5OmVlNjBowucT3-LYABc7ABPdzcCywmiM7QIUMFNAkCBM9U7TvUcRozDXzzdfYIdUAwKIHZalX616Or5tOtBGw9gH4Mrn6QWa9qPREAAI8HwFX7fQQg6o1HdJDgR7N5DWVEvy1vCheU6ycCeKMentaHqPjqm1DHitWaQWaM6XG2LyBKU-EdhKhaJX9vFQhOd5M3j7zbZ5eB5SfTefYf-IOznfQqdGSopQ5NIcbAbmqAUPN_4d52COdk31uHnVHKlDk3Oi-708YKqVF1CVAYW0xJv9C3IZ1d3WVv93vKE4WCK7AhUQvxEqdxIqL4bQzUbNRI9k7bCuZvcsfan7UMXwCYoS3ZTjnaNiPKla5T4ut9yydRnjOV5x-cEdZVYHPSA1yuTGsFvO_5HXbSPKge5LSPahq66c4ANa_HI8RjfFWaRilqdmWWRdw7tvrhdkTVFkrwHYGnfo8WrB4ctiSLmHZDkWxszlkft1LGkTmQ3V-tWxk1ekTt9jzvIteV3Urx7yRJJHAGfYNjaawPULjFdo-Xh7oy6e0l5ultX0Uw5s43HPdwoVB-_xfNoP7i368ZjxM6RH3excwIM9eungaMSNEJSoJe_8QqQdZdNB-g7OWcPpbDz9ljhyYSyBkZV-1WtnnIEiHcC3ZVNc3-PQdCoxlFPkdDiMVC23-uzBppDF_lk-sd7WY2K9bEJnmVnEwfnjup9NDF34knaoJ_X0iVMivHVya3aYkuECk6_6dQbfTycI4AQ1PiRNtE2eLC35Wb9Fx1y0">Gestione del Ciclo di Vita degli Attestati Elettronici.</a></span><a class="headerlink" href="#id5" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p>Un Utente, attraverso l'Istanza del Wallet, è in grado di acquisire un nuovo Attestato Elettronico (<strong>Credential Acquisition</strong>) eseguendo il processo <strong>PID/(Q)EAA ISS</strong>. Questo DEVE risultare nella memorizzazione di un
Attestato Elettronico nello stato <strong>Issued/Valid</strong>, ed sua eliminazione quando non è più necessario o è <strong>Expired/Revoked</strong> (<strong>Credential Deletion</strong>).
Fino alla <strong>Credential Deletion</strong>, un Attestato Elettronico può essere presentato alle Relying Party, questa operazione non influenzerà il suo ciclo di vita.</p>
<p>Un Fornitore di Attestati Elettronici invece è responsabile per:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Generazione dell'Attestato Elettronico</strong>: l'Attestato Elettronico viene generato come conseguenza di una richiesta di emissione e DEVE essere aggiunto allo storage locale del Fornitore di Attestati Elettronici dopo l'emissione riuscita.</p></li>
<li><p><strong>Revoca/Sospensione/Riattivazione dell'Attestato Elettronico</strong> (<strong>PID/(Q)EAA REV</strong> e <strong>(Q)EAA SUSP/UNSUSP</strong>): per motivi di sicurezza tecnici o richiesti da entità esterne (ad esempio, Utenti e Fonti Autentiche) lo stato dell'Attestato Elettronico DEVE essere aggiornato localmente.</p></li>
<li><p><strong>Eliminazione dei Dati</strong>: dopo aver raggiunto lo stato <strong>Expired</strong>, e in base alle politiche di conservazione del Fornitore di Attestati Elettronici, gli Attestati Elettronici DEVONO essere rimossi dallo storage locale del Fornitore di Attestati Elettronici.</p></li>
</ul>
</div></blockquote>
<section id="revoca-e-sospensione-degli-attestati-elettronici">
<h3><span class="section-number">6.2.2.1. </span>Revoca e Sospensione degli Attestati Elettronici<a class="headerlink" href="#revoca-e-sospensione-degli-attestati-elettronici" title="Link to this heading">¶</a></h3>
<p>Questa sezione descrive i flussi per richiedere un aggiornamento dello stato di un Attestato Elettronico (cioè revoca o sospensione), le entità coinvolte e i meccanismi di validazione per gli Attestati Elettronici nel sistema IT-Wallet.</p>
<p>Come evidenziato nella Sezione <a class="reference internal" href="#ciclo-di-vita-degli-attestati-elettronici"><span class="std std-ref">Ciclo di Vita degli Attestati Elettronici</span></a>, il ciclo di vita di un Attestato Elettronico è influenzato da:</p>
<blockquote>
<div><ul class="simple">
<li><p>Il ciclo di vita della sua Istanza del Wallet</p></li>
<li><p>La validità degli Attributi gestiti dalle Fonti Autentiche</p></li>
<li><p>Solo per i PID, lo stato dell'Identità Digitale utilizzata per l'autenticazione dell'Utente</p></li>
</ul>
</div></blockquote>
<p>Fattori esterni relativi all'utente possono anche influenzare il ciclo di vita di un Attestato Elettronico, come:</p>
<blockquote>
<div><ul class="simple">
<li><p>Richiesta esplicita dal titolare dell'Attestato Elettronico</p></li>
<li><p>Morte dell'Utente</p></li>
<li><p>Attività illegali</p></li>
</ul>
</div></blockquote>
</section>
<section id="entita-coinvolte">
<h3><span class="section-number">6.2.2.2. </span>Entità Coinvolte<a class="headerlink" href="#entita-coinvolte" title="Link to this heading">¶</a></h3>
<p>Mentre il Fornitore di Attestati Elettronici DEVE gestire direttamente lo stato di validità degli Attestati Elettronici che ha emesso, altri attori POSSONO attivare il processo di revoca/sospensione dell'Attestato Elettronico:</p>
<blockquote>
<div><ul class="simple">
<li><p>Utenti, attraverso:</p>
<ul>
<li><p>La loro Istanza del Wallet</p></li>
<li><p>Servizio web fornito dal Fornitore di Attestati Elettronici</p></li>
</ul>
</li>
<li><p>La Fonte Autentica quando gli attributi dell'Attestato Elettronico vengono aggiornati o cambiano stato di validità</p></li>
<li><p>Il Fornitore di Wallet quando revoca un'Istanza del Wallet</p></li>
<li><p>Il Gestore di Identità Digitale se l'Identità Digitale utilizzata per il rilascio del PID è stata rubata o compromessa</p></li>
<li><p>Autorità legali o l'Organo di Vigilanza in caso di attività illegali comprovate</p></li>
</ul>
</div></blockquote>
<p>La seguente figura mostra un diagramma delle relazioni tra entità relative al flusso di aggiornamento dello stato.</p>
<figure class="align-default" id="id6">
<span id="fig-entity-relation-credential-revocation"></span><p class="plantuml">
<object data="_images/plantuml-965de7fce89fa933ddda86b0642ff0e342a858b5.svg" type="image/svg+xml" style="width:99%">
<a href="_images/plantuml-965de7fce89fa933ddda86b0642ff0e342a858b5.png"><img src="_images/plantuml-965de7fce89fa933ddda86b0642ff0e342a858b5.png" alt="La figura illustra le Entità coinvolte nel Flusso di Revoca degli Attestati Elettronici." style="width: 99.0%"/></a>

</object></p>
<figcaption>
<p><span class="caption-number">Fig. 6.3 </span><span class="caption-text"><a class="reference external" href="https://www.plantuml.com/plantuml/svg/RPJDZjCm4CVlUOgX5ne9QIzxH6ZPR1150gfs4U8KkV5GHgHsv8-KW7XtngcJXhYLAjUJcVd_vYDzi4uOvqyDbCgH8xH0gjDDXv9_G65G8ZyG3UomqxLmf1MyQ_GvUq6gRhn4U5tStnNtLQ5FhLRi_2RBtc-Uoch_NExApy_VjkKwpx8j6glLsbiqhs3rXOyLduDe3_giI1r1qf4SIzMJgbrnwAFsIWhJhy-YQT1LjhSEJnpzTRZ3VhYlSlYJ0NycaD6V51UfQhn6RA8b88JlHw744Iq4kfSMdY97CUUudRirkYF9DOsfjz4mfevt2mjf44h26G_0aXtL61J-PjbLG7Zt8uZNbTNU3FHlHnFi1rEY4TeAmZb31-_uxZHm16oizMW6nLEiD9WxqP0CxMSYvmF0f5wLlou4sj1lbDL1opu0J9PfNKQ6lMz38LQR_d5m_k0brM5nOf1ZsqRYPU1Jb_9voJHmSh9huoFxg3BSx7-LfCCQ7iV1s6MFPt9ntQhhkh52ccxKBhHoWfITDpWefMtCiXqsSTMNUmAhy2BzH5YkOfu6pHRt2Tc0SwgvVspSbFj64Va5Ai59fMxpsIYO-4_QdxIZx_sjUSW0Jrg552b3cc8X3MRwwubb92z7ccCs9DzA4SurJyhpgSroPdaaIpP-cNN3OCUmqxMZxhB_aIXwfZirTVHkxssBIdB40n_-rFm3">Entità coinvolte nel Flusso di Revoca degli Attestati Elettronici.</a></span><a class="headerlink" href="#id6" title="Link to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="flussi-di-aggiornamento-dello-stato">
<h3><span class="section-number">6.2.2.3. </span>Flussi di Aggiornamento dello Stato<a class="headerlink" href="#flussi-di-aggiornamento-dello-stato" title="Link to this heading">¶</a></h3>
<p>Questa sezione descrive i principali flussi per la gestione degli Aggiornamenti di Stato degli Attestati Elettronici da parte del Fornitore di Attestati Elettronici, in particolare l'Aggiornamento di Stato:</p>
<blockquote>
<div><ul class="simple">
<li><p>relativo all'Utente;</p></li>
<li><p>attivato da un'Istanza del Wallet;</p></li>
<li><p>attivato da un Fornitore di Wallet;</p></li>
<li><p>attivato da una Fonte Autentica.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>I Flussi dettagliati di Aggiornamento dello Stato per i Gestori di Identità Digitale, le autorità legali e l'Organo di Vigilanza saranno trattati nelle versioni future della specifica tecnica.</p>
</div>
<section id="aggiornamento-dello-stato-relativo-all-utente">
<h4><span class="section-number">6.2.2.3.1. </span>Aggiornamento dello Stato relativo all'Utente<a class="headerlink" href="#aggiornamento-dello-stato-relativo-all-utente" title="Link to this heading">¶</a></h4>
<p>Gli Utenti POSSONO modificare lo stato di validità del loro Attestato Elettronico:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Eliminando l'Attestato Elettronico dalla loro Istanza del Wallet: l'Istanza del Wallet DEVE utilizzare l'Endpoint di Notifica fornito dal Fornitore di Attestati Elettronici come descritto nella Sezione <a class="reference internal" href="#aggiornamento-dello-stato-da-parte-dell-istanza-del-wallet"><span class="std std-ref">Aggiornamento dello Stato da parte dell'Istanza del Wallet</span></a>.</p></li>
<li><p>Utilizzando il portale web del Fornitore di Attestati Elettronici:</p></li>
</ol>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Gli Utenti POSSONO accedere ad un'area sicura con almeno lo stesso Livello di Garanzia utilizzato durante la fase di emissione.</p></li>
<li><p>Il Fornitore di Attestati Elettronici DEVE consentire agli Utenti di:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Visualizzare tutti i loro Attestati Elettronici contenuti nel database del Fornitore di Attestati Elettronici.</p></li>
<li><p>Verificare l'autenticità dei dati.</p></li>
<li><p>Visualizzare e aggiornare lo stato di validità (revocare i loro Attestati Elettronici e, se supportato dal Fornitore di Attestati Elettronici, sospenderle).</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Se l'Utente attiva un'altra Istanza del Wallet dallo stesso Fornitore di Wallet utilizzando la stessa Soluzione Wallet e ottiene un nuovo PID, il PID precedente DEVE essere revocato e l'Istanza del Wallet precedente DEVE passare allo stato operativo.</p>
</div>
<p>In caso di morte dell'Utente, i Fornitori di Attestati Elettronici e il Fornitore di Wallet DEVONO garantire che gli Attestati Elettronici e le Istanze del Wallet possedute dall'Utente siano revocate.
La morte dell'Utente attiva un cambiamento nello stato di validità degli attributi di identificazione dell'Utente contenuti nel registro pubblico (ANPR). La morte dell'Utente DEVE produrre la revoca del PID. Pertanto, la Fonte Autentica del PID (ANPR) DEVE notificare al Fornitore di Attestati Elettronici di Dati di Identificazione Personale che gli attributi dell'Utente non sono più validi a causa della morte dell'Utente. La Fonte Autentica e il Fornitore di Attestati Elettronici di Dati di Identificazione Personale DEVONO utilizzare i meccanismi forniti nella Sezione <a class="reference internal" href="#aggiornamento-dello-stato-da-parte-delle-fonti-autentiche"><span class="std std-ref">Aggiornamento dello Stato da parte delle Fonti Autentiche</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Le versioni future di questa specifica tecnica definiranno come le informazioni vengono propagate ai Fornitori di Attestati Elettronici di Attributi (Q)EAA e ai Fornitori di Wallet, in conformità con la normativa nazionale. Inoltre, le procedure automatizzate per la revoca degli Attestati Elettronici a causa di attività illegali saranno definite nelle specifiche future.</p>
</div>
</section>
<section id="aggiornamento-dello-stato-da-parte-dell-istanza-del-wallet">
<h4><span class="section-number">6.2.2.3.2. </span>Aggiornamento dello Stato da parte dell'Istanza del Wallet<a class="headerlink" href="#aggiornamento-dello-stato-da-parte-dell-istanza-del-wallet" title="Link to this heading">¶</a></h4>
<p>Quando l'Utente elimina un Attestato Elettronico dall'Istanza del Wallet, l'Istanza del Wallet DEVE notificare questo evento al Fornitore di Attestati Elettronici e il Fornitore di Attestati Elettronici DEVE revocare l'Attestato Elettronico. Per notificare questo evento, l'Istanza del Wallet DEVE utilizzare l'<em>Endpoint di Notifica</em> descritto nella Sezione <a class="reference internal" href="credential-issuance-endpoint.html#notification-endpoint"><span class="std std-ref">Notification Endpoint</span></a> utilizzando il parametro <code class="docutils literal notranslate"><span class="pre">event</span></code> impostato con il valore <code class="docutils literal notranslate"><span class="pre">credential_deleted</span></code>.</p>
<p>Quando l'Attestato Elettronico revocato è il PID, il Fornitore di Attestati Elettronici DEVE inviare una notifica di questo evento all'Utente entro 24 ore.
Per qualsiasi altro Attestato Elettronico diverso dal PID, il Fornitore di Attestati Elettronici DOVREBBE inviare una notifica di questo evento all'Utente. La notifica all'Utente potrebbe essere implementata in diversi modi, come l'utilizzo dell'indirizzo email dell'Utente, del numero di telefono o di qualsiasi altro canale di comunicazione verificato e sicuro, e DEVE includere tutte le informazioni sullo stato di revoca dell'Attestato Elettronico. Il metodo utilizzato per la notifica all'Utente è fuori dall'ambito dell'attuale profilo di implementazione tecnica. Quando avviene la revoca, il Fornitore di Attestati Elettronici DEVE aggiornare lo stato dell'Attestato Elettronico di conseguenza. Quando la <em>Notification Response</em> inviata dal Fornitore di Attestati Elettronici viene ricevuta con successo dall'Istanza del Wallet, l'Istanza del Wallet DEVE eliminare l'Attestato Elettronico.</p>
</section>
<section id="aggiornamento-dello-stato-da-parte-dei-fornitori-di-wallet">
<h4><span class="section-number">6.2.2.3.3. </span>Aggiornamento dello Stato da parte dei Fornitori di Wallet<a class="headerlink" href="#aggiornamento-dello-stato-da-parte-dei-fornitori-di-wallet" title="Link to this heading">¶</a></h4>
<p>In aggiunta a quanto già definito in <a class="reference internal" href="#ciclo-di-vita-degli-attestati-elettronici"><span class="std std-ref">Ciclo di Vita degli Attestati Elettronici</span></a>, il Fornitore di Attestati Elettronici DEVE fornire un servizio web (endpoint di Revoca dell'Istanza del Wallet) definito utilizzando PDND, come specificato nella Sezione <a class="reference internal" href="credential-issuer-endpoint.html#catalogo-e-service-pdnd-del-credential-issuer"><span class="std std-ref">Catalogo e-Service PDND del Credential Issuer</span></a>.
Il Fornitore di Wallet che per qualsiasi motivo revoca un'Istanza del Wallet DEVE inviare una notifica ai Fornitori di Attestati Elettronici utilizzando questo endpoint.</p>
</section>
<section id="aggiornamento-dello-stato-da-parte-delle-fonti-autentiche">
<h4><span class="section-number">6.2.2.3.4. </span>Aggiornamento dello Stato da parte delle Fonti Autentiche<a class="headerlink" href="#aggiornamento-dello-stato-da-parte-delle-fonti-autentiche" title="Link to this heading">¶</a></h4>
<p>Le Fonti Autentiche gestiscono gli attributi separatamente dagli Attestati Elettronici, che verificano l'autenticità come i documenti fisici. Perdere un documento fisico non significa perdere i privilegi che rappresenta; significa solo che l'Utente non può provarli. Tuttavia, se un Utente perde i privilegi a causa di un'infrazione grave, la Fonte Autentica revocherà gli attributi correlati. In tali casi, quando gli attributi di un Utente vengono aggiornati, le Fonti Autentiche DEVONO notificare ai Fornitori di Attestati Elettronici di aggiornare lo stato di validità di qualsiasi Attestato Elettronico contenente tali attributi.</p>
<p>I Fornitori di Attestati Elettronici DEVONO fornire un servizio web disponibile tramite PDND per la notifica dell'aggiornamento degli Attestati Elettronici e dello stato di validità come definito nella Sezione <a class="reference internal" href="credential-issuer-endpoint.html#catalogo-e-service-pdnd-del-credential-issuer"><span class="std std-ref">Catalogo e-Service PDND del Credential Issuer</span></a>. Per il flusso del protocollo, fare riferimento alla Sezione <a class="reference internal" href="e-service-pdnd.html#e-service-pdnd"><span class="std std-ref">e-Service PDND</span></a>.
Le Fonti Autentiche DEVONO utilizzare questo servizio di notifica nei seguenti casi:</p>
<blockquote>
<div><ul class="simple">
<li><p>Il valore di uno o più Attributi contenuti nel database della Fonte Autentica è cambiato.</p></li>
<li><p>Lo stato di validità degli Attributi è aggiornato (revoca o sospensione).</p></li>
</ul>
</div></blockquote>
</section>
</section>
</section>
<section id="meccanismi-di-verifica-della-validita">
<h2><span class="section-number">6.2.3. </span>Meccanismi di Verifica della Validità<a class="headerlink" href="#meccanismi-di-verifica-della-validita" title="Link to this heading">¶</a></h2>
<p>Per la verifica dello stato di validità di un Attestato Elettronico a lunga durata, l'OAuth Status List (<a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a>) DEVE essere supportato sia per lo scenario remoto che per quello di prossimità. Nello scenario remoto, il Fornitore di Attestati Elettronici, l'Istanza del Wallet e la Relying Party POSSONO supportare OAuth Status Assertions (<a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>). La seguente tabella riassume i meccanismi di revoca richiesti per verificare lo stato degli Attestati Elettronici a lunga durata.</p>
<table class="longtable docutils align-default" id="table-revocation-mechanisms">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Flusso</strong></p></th>
<th class="head"><p><strong>Meccanismo di Revoca</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Remoto</p></td>
<td><ul class="simple">
<li><p>[OPZIONALE] OAuth Status Assertion,</p></li>
<li><p>[RICHIESTO] OAuth Status Lists.</p></li>
</ul>
</td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>, <a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a>.</p></td>
</tr>
<tr class="row-odd"><td><p>Prossimità</p></td>
<td><p>[RICHIESTO] OAuth Status Lists.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a>.</p></td>
</tr>
</tbody>
</table>
<section id="oauth-status-assertions">
<h3><span class="section-number">6.2.3.1. </span>OAuth Status Assertions<a class="headerlink" href="#oauth-status-assertions" title="Link to this heading">¶</a></h3>
<p>Una Status Assertion è un documento firmato che serve come prova dello stato di validità corrente di un Attestato Elettronico. Il Fornitore di Attestati Elettronici fornisce queste asserzioni agli Utenti che possono presentarle ai Relying Party insieme agli Attestati Elettronici corrispondenti.</p>
<p>Le Status Assertion hanno le seguenti caratteristiche:</p>
<blockquote>
<div><ul class="simple">
<li><p>emissione automatizzata, poiché l'autenticazione dell'Utente non è richiesta per la fornitura della Status Assertion;</p></li>
<li><p>verifica dello stato di validità dell'Attestato Elettronico sia in scenari online che offline;</p></li>
<li><p>preservazione della privacy, secondo le seguenti evidenze:</p>
<ul>
<li><p>la Relying Party può controllare la validità dell'Attestato Elettronico durante la fase di presentazione. Non è in grado di controllare la validità di un determinato Attestato Elettronico relativo all'Utente nel tempo e al di fuori dell'ambito dell'autenticazione dell'Utente;</p></li>
<li><p>il Fornitore di Attestati Elettronici non è in grado di sapere a quale Relying Party verrà presentato l'Attestato Elettronico o la Status Assertion;</p></li>
<li><p>non rivela alcuna informazione sugli Utenti o sul contenuto dei loro Attestati Elettronici.</p></li>
</ul>
</li>
<li><p>DEVE avere un periodo di validità non superiore a 24 ore.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Questa specifica supporta solo il formato JWT e la Status Assertion utilizza il claim <code class="docutils literal notranslate"><span class="pre">credential_status_type</span></code> invece di <code class="docutils literal notranslate"><span class="pre">credential_status_validity</span></code>.</p>
</div>
<p>Le seguenti sezioni descrivono come funziona il meccanismo di validazione degli Attestati Elettronici attraverso le sue fasi chiave.</p>
<section id="gestione-dello-stato-degli-attestati-elettronici-con-oauth-status-assertion">
<h4><span class="section-number">6.2.3.1.1. </span>Gestione dello Stato degli Attestati Elettronici con OAuth Status Assertion<a class="headerlink" href="#gestione-dello-stato-degli-attestati-elettronici-con-oauth-status-assertion" title="Link to this heading">¶</a></h4>
<p>I Fornitori di Attestati Elettronici, una volta che un Attestato Elettronico è stato generato e rilasciato con successo, DEVONO:</p>
<blockquote>
<div><ul class="simple">
<li><p>Memorizzarlo localmente con il set minimo di dati necessari per gestire il suo ciclo di vita, incluso lo stato di validità di quell'Attestato Elettronico;</p></li>
<li><p>Includere un algoritmo di hash specificato nell'Attestato Elettronico utilizzando il claim <code class="docutils literal notranslate"><span class="pre">credential_hash_alg</span></code> all'interno del membro JSON <code class="docutils literal notranslate"><span class="pre">status_assertion</span></code> del claim status.</p></li>
</ul>
</div></blockquote>
<p>Inoltre, i Fornitori di Attestati Elettronici DEVONO aggiungere i seguenti parametri nei loro Metadata:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">status_assertion_endpoint</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credential_hash_alg_supported</span></code></p></li>
</ul>
</div></blockquote>
</section>
<section id="verifica-dello-stato-degli-attestati-elettronici-da-parte-dell-istanza-del-wallet">
<h4><span class="section-number">6.2.3.1.2. </span>Verifica dello Stato degli Attestati Elettronici da parte dell'Istanza del Wallet<a class="headerlink" href="#verifica-dello-stato-degli-attestati-elettronici-da-parte-dell-istanza-del-wallet" title="Link to this heading">¶</a></h4>
<p>Un'Istanza del Wallet DEVE controllare periodicamente lo stato di validità dell'Attestato Elettronico che è memorizzato in essa, richiedendo una Status Assertion per ogni Attestato Elettronico. In questo caso, l'Istanza del Wallet DEVE inviare una <em>Richiesta di Status Assertion</em> al Fornitore di Attestati Elettronici secondo la &quot;Specifica OAuth Status Assertion&quot; (vedere <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a> per maggiori dettagli) ed è illustrato nel seguente diagramma.</p>
<figure class="align-default" id="id7">
<span id="fig-entity-relation-credential-revocation-2"></span><p class="plantuml">
<object data="_images/plantuml-4c5d4a4a8d28cc28eec4fb7542d8580e2e4a5773.svg" type="image/svg+xml" style="width:80%">
<a href="_images/plantuml-4c5d4a4a8d28cc28eec4fb7542d8580e2e4a5773.png"><img src="_images/plantuml-4c5d4a4a8d28cc28eec4fb7542d8580e2e4a5773.png" alt="La figura illustra il Flusso di Status Assertion." style="width: 80.0%"/></a>

</object></p>
<figcaption>
<p><span class="caption-number">Fig. 6.4 </span><span class="caption-text"><a class="reference external" href="https://www.plantuml.com/plantuml/svg/TOv1IyD048Nl-oiUYyUQ7z23L4Im9uiDU50fOpk7XSqapioIl--IQ27GdERmllU-sPcJUkboeEAzbEwRDGoadivf8774TygP7Nkff9mvWWnZMZ9FoXSMJvInDoki4vL261Fk7v2sEBmUMnoTl1WUpRYMUy5BsnxmnZ-5pV4fY3OH9_edJZg75h75HoM0ktdbEl9NtqnXqpJrVeKGghYQnwfUizhGY_6QTaujhcjdukhTtCIULNjT_hPZkPGk_m80">Flusso di Status Assertion.</a></span><a class="headerlink" href="#id7" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<p><strong>Passo 1 (Richiesta di Status Assertion)</strong>: L'Istanza del Wallet invia la Richiesta di Status Assertion al Fornitore di Attestati Elettronici, dove:</p>
<blockquote>
<div><ul class="simple">
<li><p>La richiesta DEVE contenere il valore hash codificato in base64url della parte firmata dal Fornitore di Attestati Elettronici, come l'Issuer Signed JWT utilizzando il <a class="reference internal" href="credential-data-model.html#attestato-elettronico-in-formato-sd-jwt-vc"><span class="std std-ref">Attestato Elettronico in formato SD-JWT-VC</span></a> o il Mobile Security Object utilizzando il <a class="reference internal" href="credential-data-model.html#attestato-elettronico-in-formato-mdoc-cbor"><span class="std std-ref">Attestato Elettronico in formato mdoc-CBOR</span></a>, e incluso in un Status Assertion Request object firmato.</p></li>
<li><p>Lo Status Assertion Request object DEVE essere firmato con la chiave privata corrispondente al confirmation claim contenuto nell'Attestato Elettronico.</p></li>
</ul>
</div></blockquote>
<p>La HTTP Status Assertion Request inviata a un singolo Fornitore di Attestati Elettronici può riguardare più Attestati Elettronici, e DEVE contenere un oggetto JSON con il membro <cite>status_assertion_requests</cite> come descritto nella Sezione <a class="reference internal" href="#http-status-assertion-request"><span class="std std-ref">HTTP Status Assertion Request</span></a>.</p>
<p>Il Fornitore di Attestati Elettronici che riceve il Status Assertion Request object DEVE:</p>
<blockquote>
<div><ul class="simple">
<li><p>validare che l'Istanza del Wallet che effettua la richiesta sia autorizzata a richiedere Status Assertion. Se si verificano errori durante questo controllo, il Fornitore di Attestati Elettronici DEVE fornire una Status Assertion Error Response secondo la Sezione <a class="reference internal" href="#http-status-assertion-response"><span class="std std-ref">HTTP Status Assertion Response</span></a>;</p></li>
<li><p>verificare la conformità di tutti gli elementi nell'oggetto <cite>status_assertion_requests</cite> utilizzando il confirmation claim contenuto nell'Attestato Elettronico a cui si riferisce lo Status Assertion Request object. In caso di errori, DEVE essere fornita una Status Assertion Error Response (vedere la Sezione <a class="reference internal" href="#http-status-assertion-response"><span class="std std-ref">HTTP Status Assertion Response</span></a>);</p></li>
<li><p>verificare che sia il legittimo Fornitore di Attestati Elettronici dell'Attestato Elettronico a cui si riferisce ciascun Status Assertion Request object;</p></li>
<li><p>controllare lo stato di validità per gli Attestati Elettronici richiesti;</p></li>
<li><p>creare la corrispondente Status Assertion.</p></li>
</ul>
</div></blockquote>
<p><strong>Passo 2 (Risposta di Status Assertion)</strong>: Il <em>status_assertion_responses</em> DEVE essere un array di stringhe contenente gli Oggetti JSON <em>StatusAssertionResponse</em> e/o <em>StatusAssertionErrors</em> relativi alla richiesta effettuata dall'Istanza del Wallet.</p>
<p>L'Istanza del Wallet DEVE:</p>
<blockquote>
<div><ul class="simple">
<li><p>validare la HTTP Status Assertion Response;</p></li>
<li><p>estrarre e validare le firme di ciascun Oggetto JSON all'interno dell'Array JSON <em>status_assertion_responses</em>;</p></li>
<li><p>presentare una Status Assertion valida a un Relying Party che la richiede per la verifica dello stato di un Attestato Elettronico (vedere la Sezione seguente per maggiori dettagli);</p></li>
<li><p>informare l'Utente in caso di aggiornamento dello stato di validità di un Attestato Elettronico.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>L'Oggetto JSON Status Assertion Errors PUÒ avere il <em>parametro dell'header alg</em> impostato su <em>none</em>. Se il Fornitore di Attestati Elettronici firma gli Status Assertion Errors, l'Istanza del Wallet DEVE validare la firma. Inoltre, gli Status Assertion Errors NON DEVONO essere presentati ai Relying Party.</p>
</div>
<p>I dettagli tecnici sulla HTTP Status Assertion Response sono forniti nella Sezione <a class="reference internal" href="#http-status-assertion-response"><span class="std std-ref">HTTP Status Assertion Response</span></a>.</p>
<section id="http-status-assertion-request">
<h5><span class="section-number">6.2.3.1.2.1. </span>HTTP Status Assertion Request<a class="headerlink" href="#http-status-assertion-request" title="Link to this heading">¶</a></h5>
<p>L'<em>endpoint di Status Assertion</em> DEVE essere fornito dal Fornitore di Attestati Elettronici nei suoi Metadata.
Le richieste all'<em>endpoint di Status Assertion</em> DEVONO essere HTTP con metodo POST, utilizzando i parametri obbligatori elencati di seguito all'interno del body del messaggio della richiesta HTTP. Questi DEVONO essere codificati nel formato <code class="docutils literal notranslate"><span class="pre">application/json</span></code>.</p>
<table class="longtable docutils align-default" id="table-revocation-request-params">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Claim</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>status_assertion_requests</strong></p></td>
<td><p>DEVE essere un array di stringhe, dove ciascuna rappresenta un <em>Status Assertion Request object</em>. Ogni elemento DEVE contenere un JWT firmato, codificato come una serie di valori codificati in base64url (alcuni dei quali possono essere stringhe vuote) separati da caratteri punto ('.'), come prova crittografica del possesso dell'Attestato Elettronico per cui viene richiesta la Status Assertion, in conformità con la Status Assertion Request descritta nella Sezione 7 di <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>. Vedere la <a class="reference internal" href="#table-status-assertion-req-obj"><span class="std std-ref">Tabella</span></a> sottostante per maggiori dettagli.</p></td>
<td><p>Questa Specifica.</p></td>
</tr>
</tbody>
</table>
<p>Di seguito un esempio non normativo che rappresenta un array di Status Assertion Request con Status Assertion Request object in formato JWT.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>POST /status HTTP/1.1
Host: issuer.example.org
Content-Type: application/json

      {
              &quot;status_assertion_requests&quot; : [
    $status_assertion_request,
    $status_assertion_request,
    ...
  ]
      }
</pre></div>
</div>
<p>Lo <strong>Status Assertion Request object</strong> DEVE essere un JWT che DEVE contenere i parametri (Header e Payload) nella seguente tabella.</p>
<table class="longtable docutils align-default" id="table-status-assertion-req-obj">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Header</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>typ</strong></p></td>
<td><p>DEVE essere impostato su <code class="docutils literal notranslate"><span class="pre">status-assertion-request+jwt</span></code>.</p></td>
<td><p><span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7516.html#section-4.1.1"><strong>RFC 7516#section-4.1.1</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>alg</strong></p></td>
<td><p>Un identificatore di algoritmo di firma digitale come per il registro IANA &quot;JSON Web Signature and Encryption Algorithms&quot;. DEVE essere uno degli algoritmi supportati elencati nella Sezione <a class="reference internal" href="algorithms.html#algoritmi-crittografici"><span class="std std-ref">Algoritmi Crittografici</span></a> e NON DEVE essere impostato su <code class="docutils literal notranslate"><span class="pre">none</span></code> o qualsiasi identificatore di algoritmo simmetrico (MAC).</p></td>
<td><p><span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7516.html#section-4.1.1"><strong>RFC 7516#section-4.1.1</strong></a>.</p></td>
</tr>
</tbody>
</table>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Payload</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>iss</strong></p></td>
<td><p>JWT thumbprint nel parametro <code class="docutils literal notranslate"><span class="pre">cnf</span></code> dell'Attestato di Unità di Wallet.</p></td>
<td><p><span class="target" id="index-2"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-3"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>aud</strong></p></td>
<td><p>DEVE corrispondere alla stringa URL dell'endpoint di Status Assertion del Fornitore di Attestati Elettronici.</p></td>
<td><p><span class="target" id="index-4"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-5"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>exp</strong></p></td>
<td><p>Timestamp UNIX con il tempo di scadenza del JWT. DEVE essere maggiore del valore impostato per <cite>iat</cite>.</p></td>
<td><p><span class="target" id="index-6"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-7"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>iat</strong></p></td>
<td><p>Timestamp UNIX con il tempo di emissione del JWT.</p></td>
<td><p><span class="target" id="index-8"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-9"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>jti</strong></p></td>
<td><p>Identificatore univoco del JWT. Il valore DOVREBBE essere impostato utilizzando un valore <em>UUID v4</em> secondo [<span class="target" id="index-10"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc4122.html"><strong>RFC 4122</strong></a>].</p></td>
<td><p><span class="target" id="index-11"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html#section-4.1.7"><strong>RFC 7519#section-4.1.7</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>credential_hash</strong></p></td>
<td><p>DEVE contenere il valore hash della parte firmata dal Fornitore di Attestati Elettronici dell'Attestato Elettronico a cui è legata la Status Assertion.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>credential_hash_alg</strong></p></td>
<td><p>DEVE contenere l'Algoritmo utilizzato per l'hashing dell'Attestato Elettronico. Il valore DOVREBBE essere impostato su <cite>sha-256</cite>.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
</tbody>
</table>
<p>Di seguito, viene fornito un esempio non normativo di un singolo <em>Status Assertion Request object</em> con header e payload JWT decodificati e senza firma per una migliore leggibilità:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;alg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ES256&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;typ&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;status-assertion-request+jwt&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;iss&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0b434530-e151-4c40-98b7-74c75a5ef760&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;aud&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://pid-provider.example.org/status&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;iat&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1698744039</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;exp&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1698744139</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;jti&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6f204f7e-e453-4dfd-814e-9d155319408c&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;credential_hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$Issuer-Signed-JWT-Hash&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;credential_hash_alg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sha-256&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="http-status-assertion-response">
<h5><span class="section-number">6.2.3.1.2.2. </span>HTTP Status Assertion Response<a class="headerlink" href="#http-status-assertion-response" title="Link to this heading">¶</a></h5>
<p>In caso di validazione riuscita della Status Assertion Resquest, il <em>Fornitore di Attestati Elettronici</em> DEVE restituire una risposta HTTP con il codice di stato impostato su <em>200 OK</em>. Se il <em>Fornitore di Attestati Elettronici</em> è in grado di fornire una Status Assertion valida per un Attestato Elettronico richiesto, la risposta DEVE contenere un oggetto Status Assertion all'interno di un Array JSON. Altrimenti, un Status Assertion Errors relativo a quell'Attestato Elettronico DEVE essere incluso nell'Array JSON di Risposta.</p>
<p>Se la HTTP Status Assertion Request fallisce (ad esempio richiesta non valida, indisponibilità del server, ecc.), un Codice di Stato di Errore HTTP DEVE essere fornito all'interno della Risposta di Status Assertion.</p>
<p>Nella seguente tabella sono elencati i Codici di Stato HTTP che DEVONO essere supportati:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 20.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Codice di Stato</strong></p></th>
<th class="head"><p><strong>Corpo</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>200 Ok</em></p></td>
<td><p>Risposta di Revoca</p></td>
<td><p>La Risposta di Revoca è stata creata con successo.</p></td>
</tr>
<tr class="row-odd"><td><p><em>400 Bad Request</em></p></td>
<td><p>Codice di errore e descrizione</p></td>
<td><p>Il Fornitore di Attestati Elettronici non può soddisfare la richiesta a causa di parametri non validi.</p></td>
</tr>
<tr class="row-even"><td><p><em>500 Internal Server Error</em></p></td>
<td></td>
<td><p>Il Fornitore di Attestati Elettronici ha riscontrato un problema interno. (<span class="target" id="index-12"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6749.html#section-5.2"><strong>RFC 6749#section-5.2</strong></a>).</p></td>
</tr>
<tr class="row-odd"><td><p><em>503 Service Unavailable</em></p></td>
<td></td>
<td><p>Il Fornitore di Attestati Elettronici è temporaneamente non disponibile. (<span class="target" id="index-13"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6749.html#section-5.2"><strong>RFC 6749#section-5.2</strong></a>).</p></td>
</tr>
</tbody>
</table>
<p>La risposta HTTP DEVE:</p>
<ul class="simple">
<li><p>Includere un oggetto JSON con un membro denominato <cite>status_assertion_responses</cite>. DEVE essere un array di stringhe, dove ciascuna rappresenta un <em>Status Assertion Response object</em>. Ogni elemento DEVE contenere un JWT firmato, codificato come una serie di valori codificati in base64url (alcuni dei quali possono essere stringhe vuote) separati dal carattere punto ('.'). Lo <em>Status Assertion Response object</em> DEVE contenere una Status Assertion Response e un Status Assertion Error in analogia con le Sezioni 8 e 9 di <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a> per maggiori dettagli.</p></li>
<li><p>Essere codificata nel formato <code class="docutils literal notranslate"><span class="pre">application/json</span></code>.</p></li>
</ul>
<p>Un esempio non normativo di una HTTP Status Assertion Response è fornito di seguito.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>HTTP/1.1 200 Ok
Content-Type: application/json
{
  &quot;status_assertion_responses&quot;: [
    $status_assertion_response,
    $status_assertion_response,
    ...
  ]
}
</pre></div>
</div>
<p>La Status Assertion DEVE contenere i parametri e i claim definiti di seguito</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Header</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>alg</strong></p></td>
<td><p>Un identificatore di algoritmo di firma digitale come per il registro IANA &quot;JSON Web Signature and Encryption Algorithms&quot;. DEVE essere uno degli algoritmi supportati nella Sezione <a class="reference internal" href="algorithms.html#algoritmi-crittografici"><span class="std std-ref">Cryptographic Algorithms</span></a> e NON DEVE essere impostato su <code class="docutils literal notranslate"><span class="pre">none</span></code> o su un identificatore di algoritmo simmetrico (MAC).</p></td>
<td><p>[<span class="target" id="index-14"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7515.html"><strong>RFC 7515</strong></a>], [<span class="target" id="index-15"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7517.html"><strong>RFC 7517</strong></a>].</p></td>
</tr>
<tr class="row-odd"><td><p><strong>typ</strong></p></td>
<td><p>DEVE  corrispondere a <cite>status-assertion+jwt</cite>.</p></td>
<td><p>[<span class="target" id="index-16"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7515.html"><strong>RFC 7515</strong></a>], [<span class="target" id="index-17"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7517.html"><strong>RFC 7517</strong></a>], <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>kid</strong></p></td>
<td><p>Identificatore univoco del JWK del Fornitore di Attestati Elettronici. È RICHIESTO quando <code class="docutils literal notranslate"><span class="pre">x5c</span></code> non viene utilizzato.</p></td>
<td><p>[<span class="target" id="index-18"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7515.html"><strong>RFC 7515</strong></a>], <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>x5c</strong></p></td>
<td><p>Catena di certificati X.509 relativa al Fornitore di Attestati Elettronici. È RICHIESTO quando <code class="docutils literal notranslate"><span class="pre">kid</span></code> non viene utilizzato.</p></td>
<td><p>[<span class="target" id="index-19"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7515.html"><strong>RFC 7515</strong></a>], <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
</tbody>
</table>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Payload</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>iss</strong></p></td>
<td><p>DEVE essere impostato sull'identificatore del Fornitore di Attestati Elettronici.</p></td>
<td><p><span class="target" id="index-20"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-21"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>iat</strong></p></td>
<td><p>Timestamp UNIX con il tempo di emissione del JWT.</p></td>
<td><p><span class="target" id="index-22"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-23"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>exp</strong></p></td>
<td><p>Timestamp UNIX con il tempo di scadenza del JWT. DEVE essere maggiore del valore impostato per <cite>iat</cite>.</p></td>
<td><p><span class="target" id="index-24"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-25"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>credential_hash</strong></p></td>
<td><p>Valore hash dell'Attestato Elettronico a cui è legata la Status Assertion.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>credential_hash_alg</strong></p></td>
<td><p>L'Algoritmo utilizzato per l'hashing dell'Attestato Elettronico a cui è legata la Status Assertion. Il valore DOVREBBE essere impostato su <code class="docutils literal notranslate"><span class="pre">sha-256</span></code>.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>credential_status_type</strong> <a class="footnote-reference brackets" href="#id3" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p></td>
<td><p>Valore numerico che indica la validità dell'Attestato Elettronico collegato alla Status Assertion descrivendo il suo stato. Tutti i valori presi dal registro IANA &quot;OAuth Status Types&quot; per i valori di Status List (vedere la Sezione 7 di <a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a>) POSSONO essere supportati. I valori da <code class="docutils literal notranslate"><span class="pre">0x00</span></code> a <code class="docutils literal notranslate"><span class="pre">0x02</span></code> DEVONO essere supportati con il seguente significato:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0x00</span> <span class="pre">-</span> <span class="pre">VALID</span></code>: Lo stato dell'Attestato Elettronico è valido, corretto o legale.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x01</span> <span class="pre">-</span> <span class="pre">INVALID</span></code>: Lo stato dell'Attestato Elettronico è revocato, annullato, ritirato, o cancellato. Questo stato è irreversibile.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">0x02</span> <span class="pre">-</span> <span class="pre">SUSPENDED</span></code>: Lo stato dell'Attestato Elettronico è temporaneamente non valido, sospeso. Questo stato è reversibile.</p></li>
</ul>
</td>
<td><p>Questa Specifica, <a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a> .</p></td>
</tr>
<tr class="row-even"><td><p><strong>credential_status_detail</strong></p></td>
<td><p>RICHIESTO solo se <strong>credential_status_type</strong> non è impostato su <cite>0x00</cite>. Oggetto contenente informazioni dettagliate sullo stato dell'Attestato Elettronico. Contiene:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>state</strong>: (RICHIESTO). Stringa che rappresenta lo stato dell'Attestato Elettronico. Viene utilizzato per trasmettere una rappresentazione più granulare dello stato di un Attestato Elettronico, ad esempio &quot;revoked&quot;, &quot;annulled&quot;, &quot;debarred&quot;, ecc. o in caso di stati di Attestato Elettronico specifici dell'applicazione. Il Fornitore di Attestati Elettronici DEVE fornire un elenco di stati supportati per l'Attestato Elettronico emesso nei Metadata del Fornitore di Attestati Elettronici.</p></li>
<li><p><strong>description</strong>: (RICHIESTO). Stringa contenente la descrizione dello stato dell'Attestato Elettronico.</p></li>
</ul>
</div></blockquote>
</td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>cnf</strong></p></td>
<td><p>Oggetto JSON contenente metodi di conferma. Il sotto-membro contenuto all'interno del membro <cite>cnf</cite>, come <cite>jwk</cite> per JWT, DEVE corrispondere a quello fornito all'interno del relativo Attestato Elettronico. Altri metodi di conferma possono essere utilizzati quando l'Attestato Elettronico di riferimento li supporta, in conformità con gli standard di riferimento.</p></td>
<td><p>Sezione 3.1 di <span class="target" id="index-26"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7800.html"><strong>RFC 7800</strong></a> e Sezione 3.1 di <span class="target" id="index-27"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc8747.html"><strong>RFC 8747</strong></a>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Avvertimento</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id3" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">1</a><span class="fn-bracket">]</span></span>
<p>Questa specifica utilizza <code class="docutils literal notranslate"><span class="pre">credential_status_type</span></code> invece di <code class="docutils literal notranslate"><span class="pre">credential_status_validity</span></code> attualmente supportato in <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a> poiché il valore è semanticamente un tipo di stato e non un booleano.</p>
</aside>
</aside>
</div>
<p>Di seguito un esempio non normativo di un Status Assertion Response object in formato JWT, con gli header e il payload rappresentati in JSON e senza applicare la firma.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> {
   &quot;alg&quot;: &quot;ES256&quot;,
   &quot;typ&quot;: &quot;status-assertion+jwt&quot;,
   &quot;kid&quot;: &quot;Issuer-JWK-KID&quot;
 }
.
 {
   &quot;iss&quot;: &quot;https://issuer.example.org&quot;,
   &quot;jti&quot;: &quot;6f204f7e-e453-4dfd-814e-9d155319408c&quot;
   &quot;credential_hash&quot;: $CREDENTIAL-HASH,
   &quot;credential_hash_alg&quot;: &quot;sha-256&quot;,
   &quot;credential_status_type&quot;: 0x01,
   &quot;credential_status_detail&quot;: {
     &quot;state&quot;: &quot;revoked&quot;,
     &quot;description&quot;: &quot;The Credential is no longer usable as it has been revoked. This state is irreversible&quot;
   },
   &quot;cnf&quot;: {
     &quot;jwk&quot;: {
       &quot;kty&quot;: &quot;EC&quot;,
       &quot;crv&quot;: &quot;P-256&quot;,
       &quot;x&quot;: &quot;_2ySUmWFjwmraNlo15r6dIBXerVdy_NpJuwAKJMFdoc&quot;,
       &quot;y&quot;: &quot;MV3C88MhhEMba6oyMBWuGeB3dKHP4YADJmGyJwwILsk&quot;
     }
   }
 }
</pre></div>
</div>
<p>L'oggetto Status Assertion Error DEVE contenere i seguenti claim:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Header</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>alg</strong></p></td>
<td><p>Un identificatore di algoritmo di firma digitale come per il registro IANA &quot;JSON Web Signature and Encryption Algorithms&quot;. DEVE essere uno degli algoritmi supportati nella Sezione <a class="reference internal" href="algorithms.html#algoritmi-crittografici"><span class="std std-ref">Cryptographic Algorithms</span></a> e NON DEVE essere impostato su <code class="docutils literal notranslate"><span class="pre">none</span></code> o su un identificatore di algoritmo simmetrico (MAC).</p></td>
<td><p>Sezione 4.1.1 di [<span class="target" id="index-28"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7516.html"><strong>RFC 7516</strong></a>].</p></td>
</tr>
<tr class="row-odd"><td><p><strong>typ</strong></p></td>
<td><p>DEVE corrispondere a <cite>status-assertion+jwt</cite>.</p></td>
<td><p>Sezione 4.1.11 di [<span class="target" id="index-29"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7516.html"><strong>RFC 7516</strong></a>].</p></td>
</tr>
</tbody>
</table>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Payload</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>iss</strong></p></td>
<td><p>DEVE corrispondere all'identificatore del Fornitore di Attestati Elettronici.</p></td>
<td><p><span class="target" id="index-30"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-31"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>jti</strong></p></td>
<td><p>Identificatore univoco per il JWT.</p></td>
<td><p><span class="target" id="index-32"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9126.html"><strong>RFC 9126</strong></a> e <span class="target" id="index-33"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>credential_hash</strong></p></td>
<td><p>Valore hash dell'Attestato Elettronico a cui è legato lo Status Assertion Error, DEVE corrispondere a quello contenuto nella Richiesta di Status Assertion.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>credential_hash_alg</strong></p></td>
<td><p>L'Algoritmo utilizzato per l'hashing dell'Attestato Elettronico a cui è legato lo Status Assertion Error, DEVE corrispondere a quello contenuto nella Richiesta di Status Assertion. Il valore DOVREBBE essere impostato su <code class="docutils literal notranslate"><span class="pre">sha-256</span></code>.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>.</p></td>
</tr>
<tr class="row-even"><td><p><strong>error</strong></p></td>
<td><p>Il codice di errore, come registrato nella tabella sottostante.</p></td>
<td><p>Sezione 4.1.7 di <span class="target" id="index-34"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>error_description</strong></p></td>
<td><p>Testo che fornisce ulteriori dettagli per chiarire la natura dell'errore riscontrato.</p></td>
<td><p>Sezione 4.1.7 di <span class="target" id="index-35"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>.</p></td>
</tr>
</tbody>
</table>
<p>Gli errori sono destinati a fornire informazioni aggiuntive sul fallimento in modo che l'Utente possa essere informato e intraprendere l'azione appropriata.
Il claim <cite>error</cite> per l'oggetto Status Assertion Error DEVE essere impostato con uno dei valori definiti nella tabella sottostante, in aggiunta ai valori specificati in <span class="target" id="index-36"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6749.html#section-5.2"><strong>RFC 6749#section-5.2</strong></a>:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Codice di Errore</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">invalid_request</span></code></p></td>
<td><p>La richiesta non è valida a causa della mancanza o dell'incorrettezza di uno o più parametri. (<span class="target" id="index-37"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc6749.html#section-5.2"><strong>RFC 6749#section-5.2</strong></a>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">invalid_request_signature</span></code></p></td>
<td><p>La validazione della firma della Status Assertion Request è fallita. Questo tipo di errore viene utilizzato quando la prova di possesso dell'Attestato Elettronico viene trovata non valida all'interno della Richiesta di Revocation Assertion. (Sezione 9.2 di <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">credential_not_found</span></code></p></td>
<td><p>Il valore <cite>credential_hash</cite> fornito nella Status Assertion Request non corrisponde a nessun Attestato Elettronico attivo. (Sezione 9.2 di <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">unsupported_hash_alg</span></code></p></td>
<td><p>L'algoritmo di hash impostato in <cite>credential_hash_alg</cite> non è supportato. (Sezione 9.2 di <a class="reference external" href="https://datatracker.ietf.org/doc/draft-demarco-oauth-status-assertions/03/">OAUTH-STATUS-ASSERTION</a>).</p></td>
</tr>
</tbody>
</table>
<p>Di seguito un esempio non normativo di un oggetto Status Assertion Error in formato JWT, con gli header e il payload rappresentati in JSON e senza applicare la firma.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>{
  &quot;alg&quot;: &quot;ES256&quot;,
  &quot;typ&quot;: &quot;status-assertion-error+jwt&quot;,
  &quot;kid&quot;: &quot;Issuer-JWK-KID&quot;
}
.
{
  &quot;iss&quot;: &quot;https://issuer.example.org&quot;,
  &quot;jti&quot;: &quot;6f204f7e-e453-4dfd-814e-9d155319408c&quot;
  &quot;credential_hash&quot;: $CREDENTIAL-HASH,
  &quot;credential_hash_alg&quot;: &quot;sha-256&quot;,
  &quot;error&quot;: &quot;unsupported_hash_alg&quot;,
  &quot;error_description&quot;: &quot;The hash algorithm is not supported&quot;
}
</pre></div>
</div>
</section>
</section>
<section id="verifica-dello-stato-degli-attestati-elettronici-da-parte-della-relying-party">
<h4><span class="section-number">6.2.3.1.3. </span>Verifica dello Stato degli Attestati Elettronici da parte della Relying Party<a class="headerlink" href="#verifica-dello-stato-degli-attestati-elettronici-da-parte-della-relying-party" title="Link to this heading">¶</a></h4>
<p>Durante il flusso di presentazione, se una Status Assertion relativa a un Attestato Elettronico è disponibile, l'Istanza del Wallet DEVE includerla insieme al relativo Attestato Elettronico nell'Array JSON <code class="docutils literal notranslate"><span class="pre">vp_token</span></code>.
La Relying Party che vuole fare affidamento sul meccanismo fornito dalla Status Assertion DEVE estrarre la Status Assertion dall'Array <code class="docutils literal notranslate"><span class="pre">vp_token</span></code> e, in aggiunta ai controlli richiesti nel Flusso di Presentazione descritto nella Sezione <a class="reference internal" href="remote-flow.html#flusso-remoto"><span class="std std-ref">Flusso Remoto</span></a>, la Relying Party DEVE controllare la presenza del claim <code class="docutils literal notranslate"><span class="pre">status.status_assertion</span></code> nell'Attestato Elettronico. Se vero, i Relying Party DEVONO:</p>
<blockquote>
<div><ul class="simple">
<li><p>validare la firma della Status Assertion;</p></li>
<li><p>decodificare la Status Assertion fornita nella presentazione, abbinando il parametro dell'header JWS typ impostato su <code class="docutils literal notranslate"><span class="pre">status-assertion+jwt</span></code> e cercando il valore <code class="docutils literal notranslate"><span class="pre">credential_hash</span></code> che corrisponde all'hash della parte firmata dal Fornitore di Attestati Elettronici dell'Attestato Elettronico utilizzando l'algoritmo di hashing configurato in <code class="docutils literal notranslate"><span class="pre">status.status_assertion.credential_hash_alg</span></code>;</p></li>
<li><p>valutare la Status Assertion controllando i seguenti elementi:</p>
<ul>
<li><p>il valore del claim <code class="docutils literal notranslate"><span class="pre">iss</span></code> DEVE corrispondere a quello nell'Attestato Elettronico;</p></li>
<li><p>il valore del claim <code class="docutils literal notranslate"><span class="pre">iat</span></code> DEVE essere uguale o successivo al valore del claim <code class="docutils literal notranslate"><span class="pre">iat</span></code> nell'Attestato Elettronico;</p></li>
<li><p>il valore <code class="docutils literal notranslate"><span class="pre">exp</span></code> DEVE essere successivo all'ora corrente;</p></li>
<li><p>il valore del claim <code class="docutils literal notranslate"><span class="pre">nbf</span></code>, se presente, DEVE essere minore o uguale all'ora corrente;</p></li>
<li><p>l'Oggetto JSON <code class="docutils literal notranslate"><span class="pre">cnf</span></code> DEVE corrispondere a quello incluso nel relativo Attestato Elettronico;</p></li>
<li><p>i valori <code class="docutils literal notranslate"><span class="pre">credential_status_type</span></code> e <code class="docutils literal notranslate"><span class="pre">credential_status_detail</span></code>.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</section>
</section>
</section>
<section id="oauth-status-lists">
<h2><span class="section-number">6.2.4. </span>OAuth Status Lists<a class="headerlink" href="#oauth-status-lists" title="Link to this heading">¶</a></h2>
<p>Questa sezione definisce una struttura di dati Status List, che viene utilizzata per trasmettere informazioni riguardanti gli stati individuali di più Attestati Elettronici. Gli Attestati Elettronici possono essere di qualsiasi formato, come SD-JWT o mdoc ISO/IEC 18013-5. Una Status List descrive lo stato degli Attestati Elettronici codificando la loro validità in un array di bit. A ciascun Attestato Elettronico viene assegnato un indice durante l'emissione; questo indice rappresenta la sua posizione all'interno dell'array di bit. Il valore del bit o dei bit in questo indice corrisponde allo stato degli Attestati Elettronici. Una Status List viene fornita all'interno di un Token di Status List firmato crittograficamente in formato JWT. Per i dettagli, vedere <a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a>.</p>
<p>In questa specifica, i ruoli di Fornitore di Attestati Elettronici e Status Issuer (cioè, l'entità che emette il Token di Status List sulle informazioni di stato dell'Attestato Elettronico) coincidono, mentre lo Status Provider (cioè, l'entità che fornisce il Token di Status List su un endpoint pubblico) PUÒ essere il Fornitore di Attestati Elettronici stesso o un'altra entità.</p>
<section id="creazione-delle-status-list">
<h3><span class="section-number">6.2.4.1. </span>Creazione delle Status List<a class="headerlink" href="#creazione-delle-status-list" title="Link to this heading">¶</a></h3>
<p>Il Fornitore di Attestati Elettronici DEVE</p>
<blockquote>
<div><ul class="simple">
<li><p>definire un numero di bit, k, (1, 2, 4 o 8) che rappresenta la quantità di bit utilizzati per descrivere lo stato di ciascun Attestato Elettronico all'interno di questa Status List. Il Fornitore di Attestati Elettronici DEVE configurare il numero di bit. Ogni Attestato Elettronico avrà quindi 2^k (dove k è il numero di bit scelto) possibili stati.</p></li>
<li><p>creare un array di byte di dimensione = (quantità di Attestati Elettronici) * k / 8 o maggiore. A seconda di k, ogni byte nell'array corrisponde a 8/k stati (8 se k=1, 4 se k=2, 2 se k=1, o 1 se k=8). Ogni volta che viene emesso un Attestato Elettronico, il Fornitore di Attestati Elettronici lo assegna a una posizione nell'array.</p></li>
<li><p>impostare i valori di stato per tutti gli Attestati Elettronici emessi all'interno dell'array di byte. Lo stato di ciascun Attestato Elettronico viene identificato utilizzando un indice che mappa a uno o più bit specifici all'interno dell'array di byte. L'indice inizia a contare da 0 e termina con (quantità di Attestati Elettronici) - 1 (essendo l'ultima voce valida). I bit all'interno di un array vengono contati dal bit meno significativo (&quot;0&quot;) al bit più significativo (&quot;7&quot;). Tutti i bit dell'array di byte a un particolare indice sono impostati su un valore di stato.</p></li>
<li><p>comprimere l'array di byte utilizzando DEFLATE [<span class="target" id="index-38"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1951.html"><strong>RFC 1951</strong></a>] con il formato dati ZLIB [<span class="target" id="index-39"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1950.html"><strong>RFC 1950</strong></a>]. Si RACCOMANDA alle implementazioni di utilizzare il livello di compressione più alto disponibile.</p></li>
<li><p>rendere disponibile alle Relying Party e alle Istanze del Wallet un endpoint per richiedere le Status Lists.</p></li>
</ul>
</div></blockquote>
<p>Il Fornitore di Attestati Elettronici DEVE utilizzare i seguenti valori per i possibili Stati degli Attestati Elettronici emessi:</p>
<blockquote>
<div><ul class="simple">
<li><p>0x00 - <code class="docutils literal notranslate"><span class="pre">VALID</span></code> - L'Attestato Elettronico è valido.</p></li>
<li><p>0x01 - <code class="docutils literal notranslate"><span class="pre">INVALID</span></code> - L'Attestato Elettronico è revocato.</p></li>
<li><p>0x02 - <code class="docutils literal notranslate"><span class="pre">SUSPENDED</span></code> - L'Attestato Elettronico è temporaneamente non valido, sospeso. Questo stato è reversibile.</p></li>
<li><p>0x03 - <code class="docutils literal notranslate"><span class="pre">UPDATE</span></code> - I parametri dei metadata dell'Attestato Elettronico sono cambiati.</p></li>
<li><p>0x04 - <code class="docutils literal notranslate"><span class="pre">ATTRIBUTE_UPDATE</span></code> - Gli attributi dell'Attestato Elettronico sono cambiati.</p></li>
</ul>
</div></blockquote>
<p>Ad esempio, se sono possibili cinque stati per un certo Attestato Elettronico, allora k=4. Se il Fornitore di Attestati Elettronici crea un array per memorizzare gli stati di 6 Attestati Elettronici, i cui stati di validità sono 0, 0, 0, 4, 1, 2, rispettivamente; farà:</p>
<blockquote>
<div><ul class="simple">
<li><p>creare l'array di bit <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0;</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0;</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> che in notazione esadecimale genera l'array di byte <code class="docutils literal notranslate"><span class="pre">[0x00,</span> <span class="pre">0x40,</span> <span class="pre">0x21]</span></code>.</p></li>
<li><p>comprimere l'array utilizzando DEFLATE.</p></li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Quando il Fornitore di Attestati Elettronici sceglie il numero di bit per trasmettere gli stati degli Attestati Elettronici che emette, PUÒ aggiungere altri stati oltre a quelli descritti sopra. L'aggiunta di molti stati diversi per il ciclo di vita di un Attestato Elettronico deve tuttavia essere attentamente ponderata poiché rivela informazioni alle Relying Party.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La principale considerazione sulla privacy per una Status List è impedire al Fornitore di Attestati Elettronici di tracciare l'uso dell'Attestato Elettronico quando lo stato viene controllato. Se un Fornitore di Attestati Elettronici offre informazioni sullo stato facendo riferimento a un token specifico, ciò consentirebbe al Fornitore di Attestati Elettronici di creare un profilo per il token emesso correlando la data e l'identità delle Relying Party che richiedono lo stato. Le implementazioni DEVONO quindi integrare le informazioni sullo stato di molti Attestati Elettronici nella stessa lista. Di conseguenza, il Fornitore di Attestati Elettronici non apprende per quale Attestato Elettronico la Relying Party sta richiedendo la Status List. La privacy dell'Utente è protetta dall'anonimato all'interno dell'insieme degli Attestati Elettronici nella Status List, questo limita le possibilità di tracciamento da parte del Fornitore di Attestati Elettronici.
Questo effetto di privacy di gruppo dipende dal numero di entità all'interno della Status List. Una maggiore quantità di Attestati Elettronici referenziati in essa risulta in una migliore privacy ma influisce anche sulle prestazioni poiché più dati devono essere trasferiti per leggere la Status List. A seconda dei parametri della Status List (ad esempio la quantità di bit che designano i valori dell'Attestato Elettronico), i Fornitori di Attestati Elettronici devono trovare un equilibrio appropriato tra privacy e prestazioni.</p>
</div>
<p>Una volta che la Relying Party riceve un Attestato Elettronico, questo le consente di richiedere la Status List per validare il suo stato attraverso il parametro URI fornito e cercare l'indice corrispondente. Tuttavia, la Relying Party è in grado di memorizzare l'URI e l'indice dell'Attestato Elettronico per richiedere nuovamente la Status List in un momento successivo. Facendolo regolarmente, la Relying Party può creare un profilo dello stato di validità dell'Attestato Elettronico. Questo comportamento potrebbe anche essere abusato in casi in cui non è intenzionale e sconosciuto all'Utente, ad esempio profilando la sospensione di una patente di guida. Questo comportamento potrebbe essere mitigato, ad esempio, con la regolare riemissione dell'Attestato Elettronico.</p>
<section id="token-di-status-list">
<h4><span class="section-number">6.2.4.1.1. </span>Token di Status List<a class="headerlink" href="#token-di-status-list" title="Link to this heading">¶</a></h4>
<p>Il Token di Status List è disponibile all'Endpoint di Status List e contiene i seguenti parametri.</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Header</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>alg</strong></p></td>
<td><p>RICHIESTO. Un identificatore di algoritmo di firma digitale come per il registro IANA &quot;JSON Web Signature and Encryption Algorithms&quot;. DEVE essere uno degli algoritmi supportati nella Sezione <a class="reference internal" href="algorithms.html#algoritmi-crittografici"><span class="std std-ref">Algoritmi Crittografici</span></a> e NON DEVE essere impostato su <code class="docutils literal notranslate"><span class="pre">none</span></code> o su un identificatore di algoritmo simmetrico (MAC).</p></td>
<td><p>[<span class="target" id="index-40"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7515.html"><strong>RFC 7515</strong></a>], [<span class="target" id="index-41"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7517.html"><strong>RFC 7517</strong></a>].</p></td>
</tr>
<tr class="row-odd"><td><p><strong>typ</strong></p></td>
<td><p>RICHIESTO. DEVE corrispondere al valore <code class="docutils literal notranslate"><span class="pre">statuslist+jwt</span></code>.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
<tr class="row-even"><td><p><strong>kid</strong></p></td>
<td><p>RICHIESTO. Identificatore univoco della chiave pubblica del Fornitore di Attestati Elettronici che firma il Token di Status.</p></td>
<td><p><span class="target" id="index-42"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7638.html#section_3"><strong>RFC 7638#section_3</strong></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>x5c</strong></p></td>
<td><p>RICHIESTO. Certificato di chiave pubblica X.509 o catena di certificati corrispondente alla chiave utilizzata per firmare il Token di Status List.</p></td>
<td><p><span class="target" id="index-43"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5280.html"><strong>RFC 5280</strong></a></p></td>
</tr>
</tbody>
</table>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Payload</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>sub</strong></p></td>
<td><p>RICHIESTO. Il claim del soggetto DEVE specificare l'URI del Token di Status List. Il valore DEVE essere uguale a quello del claim uri contenuto nel claim status_list dell'Attestato Elettronico.</p></td>
<td><p>[<span class="target" id="index-44"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>]</p></td>
</tr>
<tr class="row-odd"><td><p><strong>iat</strong></p></td>
<td><p>RICHIESTO. Il claim issued at DEVE specificare l'ora in cui è stato emesso il Token di Status List.</p></td>
<td><p>[<span class="target" id="index-45"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>]</p></td>
</tr>
<tr class="row-even"><td><p><strong>exp</strong></p></td>
<td><p>RICHIESTO. Il claim expiration time, se presente, DEVE specificare l'ora in cui il Token di Status List è considerato scaduto dal Fornitore di Attestati Elettronici.</p></td>
<td><p>[<span class="target" id="index-46"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>]</p></td>
</tr>
<tr class="row-odd"><td><p><strong>ttl</strong></p></td>
<td><p>OPZIONALE. Il claim time to live, se presente, DEVE specificare la quantità massima di tempo, in secondi, che il Token di Status List può essere memorizzato nella cache da un consumatore prima che una copia aggiornata DOVREBBE essere recuperata. Il valore del claim DEVE essere un numero positivo codificato in JSON come un numero. Questa quantità di tempo NON DOVREBBE superare il tempo di scadenza definito nel claim <strong>exp</strong>.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
<tr class="row-even"><td><p><strong>status_list</strong></p></td>
<td><p>RICHIESTO. Oggetto JSON che contiene una Status List.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Si RACCOMANDA che il Fornitore di Attestati Elettronici imposti il claim <code class="docutils literal notranslate"><span class="pre">exp</span></code> in modo che il Token di Status List abbia una breve durata. In genere, questo comporta che il claim <code class="docutils literal notranslate"><span class="pre">exp</span></code> non superi il claim <code class="docutils literal notranslate"><span class="pre">iat</span></code> di più di 24 ore.</p>
</div>
<p>Una Status List codificata in JSON ha la seguente struttura:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parametro</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>bits</strong></p></td>
<td><p>RICHIESTO. Intero JSON che specifica il numero di bit per Attestato Elettronico nell'array di byte compresso (<cite>lst</cite>). I valori consentiti per bits sono 1,2,4 e 8.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>lst</strong></p></td>
<td><p>RICHIESTO. Stringa JSON che contiene i valori di stato per tutti gli Attestato Elettronici di cui trasmette gli stati. Il valore DEVE essere l'array di byte compresso codificato in base64url.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
<tr class="row-even"><td><p><strong>aggregation_uri</strong></p></td>
<td><p>OPZIONALE. Stringa JSON che contiene un URI per recuperare l'Aggregazione di Status List per questo tipo di Attestato Elettronico o Fornitore di Attestati Elettronici.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
</tbody>
</table>
<p>Di seguito è riportato un esempio di Token di Status List prima di applicare la firma e la codifica:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;ES256&quot;</span><span class="p">,</span>
  <span class="s2">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;$KID&quot;</span><span class="p">,</span>
  <span class="s2">&quot;typ&quot;</span><span class="p">:</span> <span class="s2">&quot;statuslist+jwt&quot;</span>
<span class="p">}</span>
<span class="o">.</span>
<span class="p">{</span>
  <span class="s2">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">2291720170</span><span class="p">,</span>
  <span class="s2">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1686920170</span><span class="p">,</span>
  <span class="s2">&quot;status_list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;bits&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;lst&quot;</span><span class="p">:</span> <span class="s2">&quot;eNrbuRgAAhcBXQ&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example-issuer.com/statuslists/&quot;</span><span class="p">,</span>
  <span class="s2">&quot;ttl&quot;</span><span class="p">:</span> <span class="mi">43200</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="gestione-dello-stato-degli-attestati-elettronici-con-token-di-status-list">
<h4><span class="section-number">6.2.4.1.2. </span>Gestione dello Stato degli Attestati Elettronici con Token di Status List<a class="headerlink" href="#gestione-dello-stato-degli-attestati-elettronici-con-token-di-status-list" title="Link to this heading">¶</a></h4>
<p>I Fornitori di Attestati Elettronici, una volta che un Attestato Elettronico è stato generato, DEVONO:</p>
<blockquote>
<div><ul class="simple">
<li><p>Memorizzarlo localmente con il set minimo di dati necessari per gestire il suo ciclo di vita, incluso lo stato di validità di quell'Attestato Elettronico;</p></li>
<li><p>Includere un claim <code class="docutils literal notranslate"><span class="pre">status_list</span></code> all'interno dell'Oggetto JSON <code class="docutils literal notranslate"><span class="pre">status</span></code> claim  dell'Attestato Elettronico.</p></li>
</ul>
</div></blockquote>
<p>Il valore del claim <code class="docutils literal notranslate"><span class="pre">status_list</span></code> DEVE essere a sua volta un Oggetto JSON con i seguenti parametri</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 60.0%" />
<col style="width: 20.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Parametro</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
<th class="head"><p><strong>Riferimento</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>idx</strong></p></td>
<td><p>RICHIESTO. Il claim idx (indice) DEVE specificare un Intero che rappresenta l'indice da controllare per le informazioni sullo stato nella Status List per l'Attestato Elettronico corrente. Il valore di idx DEVE essere un numero non negativo, contenente il valore zero o maggiore.</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
<tr class="row-odd"><td><p><strong>uri</strong></p></td>
<td><p>RICHIESTO. Il claim uri (URI) DEVE specificare un valore String che identifica il Token di Status List contenente le informazioni sullo stato per l'Attestato Elettronico. Il valore di uri DEVE essere un URI conforme a [<span class="target" id="index-47"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc3986.html"><strong>RFC 3986</strong></a>].</p></td>
<td><p><a class="reference external" href="https://datatracker.ietf.org/doc/draft-ietf-oauth-status-list/07/">TOKEN-STATUS-LIST</a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="verifica-degli-stati-degli-attestati-elettronici">
<h4><span class="section-number">6.2.4.1.3. </span>Verifica degli Stati degli Attestati Elettronici<a class="headerlink" href="#verifica-degli-stati-degli-attestati-elettronici" title="Link to this heading">¶</a></h4>
<p>Il recupero, l'elaborazione e la verifica di un Token di Status List possono essere effettuati sia dall'Istanza del Wallet che da una Relying Party. Di seguito viene descritto per la Relying Party, tuttavia, le stesse regole si applicherebbero anche all'Istanza del Wallet.</p>
<figure class="align-default" id="id8">
<span id="fig-entity-relation-credential-revocation-sl"></span><p class="plantuml">
<object data="_images/plantuml-fcf4bb15378acb313ddf7a486acbd0e8cef1ef24.svg" type="image/svg+xml" style="width:80%">
<a href="_images/plantuml-fcf4bb15378acb313ddf7a486acbd0e8cef1ef24.png"><img src="_images/plantuml-fcf4bb15378acb313ddf7a486acbd0e8cef1ef24.png" alt="La figura illustra il Flusso di Status List." style="width: 80.0%"/></a>

</object></p>
<figcaption>
<p><span class="caption-number">Fig. 6.5 </span><span class="caption-text"><a class="reference external" href="https://www.plantuml.com/plantuml/svg/RS-n2i8m4CRnFKzn15TVm44AWbfm42suk9pj3OVf9UOkvFMDEXMS_p_u-3erp5Rc05T3AmedLeDzYDLXiIXbVb1sgHaUEQ4O-1k6G0QzgA6Cv04LAY_DBjD4Oem1UjL2-QlOkSgmtW9lu42sc3mEmnakz2gavXfggZRsXsYAeWHt0R_wvKyTufF4kuvaQc_U">Flusso di Status List.</a></span><a class="headerlink" href="#id8" title="Link to this image">¶</a></p>
</figcaption>
</figure>
<section id="richiesta-http-di-status-list">
<h5><span class="section-number">6.2.4.1.3.1. </span>Richiesta HTTP di Status List<a class="headerlink" href="#richiesta-http-di-status-list" title="Link to this heading">¶</a></h5>
<p>Per ottenere il Token di Status List, la Relying Party DEVE inviare una richiesta HTTP GET al valore <code class="docutils literal notranslate"><span class="pre">status.status_list.uri</span></code> fornito all'interno dell'Attestato Elettronico.</p>
<p>La Relying Party DOVREBBE inviare l'Accept-Header <code class="docutils literal notranslate"><span class="pre">application/statuslist+jwt</span></code> per indicare che il tipo di risposta richiesto per il Token di Status List è il formato JWT.</p>
<p>Di seguito è riportato un esempio non normativo di una richiesta per un Token di Status List:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GET</span> <span class="o">/</span><span class="n">statuslists</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">Host</span><span class="p">:</span> <span class="n">example</span><span class="o">-</span><span class="n">issuer</span><span class="o">.</span><span class="n">com</span>
<span class="n">Accept</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">statuslist</span><span class="o">+</span><span class="n">jwt</span>
</pre></div>
</div>
</section>
<section id="risposta-http-di-status-list">
<h5><span class="section-number">6.2.4.1.3.2. </span>Risposta HTTP di Status List<a class="headerlink" href="#risposta-http-di-status-list" title="Link to this heading">¶</a></h5>
<p>L'Endpoint di Status List risponde con un Token di Status List e DEVE utilizzare un codice di stato HTTP nell'intervallo 2xx. In caso di risposta andata a buon fine, lo Status Provider DEVE utilizzare il content-type <code class="docutils literal notranslate"><span class="pre">application/statuslist+jwt</span></code> per il Token di Status List in formato JWT.</p>
<p>La risposta HTTP DOVREBBE utilizzare la Content-Encoding gzip come definito in [<span class="target" id="index-48"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc9110.html"><strong>RFC 9110</strong></a>].</p>
<p>Se gli header HTTP relativi alla cache sono presenti nella risposta HTTP, le Relying Party DOVREBBERO dare priorità ai claim <code class="docutils literal notranslate"><span class="pre">exp</span></code> e <code class="docutils literal notranslate"><span class="pre">ttl</span></code> all'interno del Token di Status List rispetto agli header HTTP per determinare il comportamento della cache.</p>
<p>Di seguito è riportato un esempio non normativo di una risposta per un Token di Status List con tipo <code class="docutils literal notranslate"><span class="pre">application/statuslist+jwt</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">application</span><span class="o">/</span><span class="n">statuslist</span><span class="o">+</span><span class="n">jwt</span>

<span class="n">eyJhbGciOiJFUzI1NiIsImtpZCI6IjEyIiwidHlwIjoic3RhdHVzbGlzdCtqd3QifQ</span><span class="o">.</span><span class="n">eyJleHAiOjIyOTE3MjAxNzAsImlhdCI6MTY4NjkyMDE3MCwiaXNzIjoiaHR0cHM6Ly9leGFtcGxlLmNvbSIsInN0YXR1c19saXN0Ijp7ImJpdHMiOjEsImxzdCI6ImVOcmJ1UmdBQWhjQlhRIn0sInN1YiI6Imh0dHBzOi8vZXhhbXBsZS5jb20vc3RhdHVzbGlzdHMvMSIsInR0bCI6NDMyMDB9</span><span class="o">.</span><span class="n">SSdg3AnTHsyRtCHziLy</span><span class="o">-</span><span class="n">QnXg</span><span class="o">-</span><span class="n">YRldMEXkdEgDXgE_ZvIvjM0eULQlzEbLBLfCeGhlqKJSReC</span><span class="o">-</span><span class="n">m85K79CTjJDzg</span>
</pre></div>
</div>
<p>Al ricevimento di un Attestato Elettronico, una Relying Party DEVE prima eseguire la validazione dell'Attestato Elettronico stesso (ad esempio, controllando gli attributi previsti, la firma valida e il tempo di scadenza). Se questa validazione non ha successo, l'Attestato Elettronico DEVE essere rifiutata. Se la validazione ha avuto successo, la Relying Party DEVE eseguire i seguenti passaggi di validazione per valutare lo stato dell'Attestato Elettronico:</p>
<ul class="simple">
<li><p>Controllare l'esistenza di un claim <code class="docutils literal notranslate"><span class="pre">status</span></code>, controllare l'esistenza di un claim <code class="docutils literal notranslate"><span class="pre">status_list</span></code> all'interno del claim <code class="docutils literal notranslate"><span class="pre">status</span></code> e validare che il contenuto di <code class="docutils literal notranslate"><span class="pre">status_list</span></code> aderisca alle regole definite nella Sezione <a class="reference internal" href="#gestione-dello-stato-degli-attestati-elettronici-con-token-di-status-list"><span class="std std-ref">Gestione dello Stato degli Attestati Elettronici con Token di Status List</span></a>.</p></li>
<li><p>Risolvere il Token di Status List dall'URI fornito.</p></li>
<li><p>Validare il Token di Status List:</p>
<ul>
<li><p>Validare la firma del Token di Status List seguendo le regole definite nella sezione 7.2 di [<span class="target" id="index-49"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc7519.html"><strong>RFC 7519</strong></a>]. Questo passaggio richiede la risoluzione di una chiave pubblica come descritto in <a class="reference internal" href="trust.html#l-infrastruttura-di-trust"><span class="std std-ref">L'Infrastruttura di Trust</span></a>.</p></li>
<li><p>Controllare l'esistenza dei claim richiesti come definito nella Sezione <a class="reference internal" href="#token-di-status-list"><span class="std std-ref">Token di Status List</span></a>.</p></li>
</ul>
</li>
<li><p>Tutti i claim esistenti nel Token di Status List DEVONO essere controllati secondo <a class="reference internal" href="#token-di-status-list"><span class="std std-ref">Token di Status List</span></a>.</p>
<ul>
<li><p>Il claim subject del Token di Status List DEVE essere uguale al claim <cite>uri</cite> nell'oggetto <cite>status_list</cite> dell'Attestato Elettronico.</p></li>
<li><p>Se la Relying Party ha politiche personalizzate riguardanti la freschezza del Token di Status List, DOVREBBE controllare il claim <cite>iat</cite>.</p></li>
<li><p>Se il tempo di scadenza è definito, DEVE essere controllato se il Token di Status List è scaduto.</p></li>
<li><p>Se la Relying Party sta utilizzando un sistema per memorizzare nella cache il Token di Status List, DOVREBBE controllare il claim <cite>ttl</cite> del Token di Status List e recuperare una copia aggiornata se (tempo in cui lo stato è stato risolto + <cite>ttl</cite> &lt; tempo corrente).</p></li>
</ul>
</li>
<li><p>Decomprimere la Status List con un decompressore compatibile con DEFLATE [<span class="target" id="index-50"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1951.html"><strong>RFC 1951</strong></a>] e ZLIB [<span class="target" id="index-51"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc1950.html"><strong>RFC 1950</strong></a>].</p></li>
<li><p>Recuperare il valore di stato dell'indice specificato nell'Attestato Elettronico come descritto in <a class="reference internal" href="#creazione-delle-status-list"><span class="std std-ref">Creazione delle Status List</span></a>. Fallire se l'indice fornito è fuori dai limiti della Status List.</p></li>
<li><p>Controllare il valore di stato come descritto in <a class="reference internal" href="#creazione-delle-status-list"><span class="std std-ref">Creazione delle Status List</span></a>.</p></li>
</ul>
<p>Se uno di questi controlli fallisce, non è possibile fare alcuna dichiarazione sullo stato dell'Attestato Elettronico e l'Attestato Elettronico DOVREBBE essere rifiutato.</p>
<p>Se, ad esempio, l'array di byte decompresso è <code class="docutils literal notranslate"><span class="pre">[0x00,</span> <span class="pre">0x40,</span> <span class="pre">0x21]</span></code>, corrisponde all'array di bit <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0;</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0;</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">1]</span></code>. Lo Stato dell'Attestato Elettronico il cui valore del claim <code class="docutils literal notranslate"><span class="pre">idx</span></code> è <code class="docutils literal notranslate"><span class="pre">5</span></code> in questo array si riferisce all'ultima coppia di 4 bit (cioè, <code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1,</span> <span class="pre">0]</span> <span class="pre">=</span> <span class="pre">0x02</span></code>) il cui valore di stato è <code class="docutils literal notranslate"><span class="pre">SUSPENDED</span></code>.</p>
<p>In caso di errore durante la generazione della risposta da parte dell'Endpoint del Token di Status, DEVONO essere supportati i seguenti Codici di Stato HTTP:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p><strong>Codice di Stato</strong></p></th>
<th class="head"><p><strong>Descrizione</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><em>500 Internal Server Error</em> [RICHIESTO]</p></td>
<td><p>Il Provider di Status List ha riscontrato un problema interno.</p></td>
</tr>
<tr class="row-odd"><td><p><em>503 Service Unavailable</em> [RICHIESTO]</p></td>
<td><p>Il Provider di Status List è temporaneamente non disponibile.</p></td>
</tr>
<tr class="row-even"><td><p><em>504 Gateway Timeout</em> [OPZIONALE]</p></td>
<td><p>Il Provider di Status List non può soddisfare la richiesta entro l'intervallo di tempo definito.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
    
        <div id="show_right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&lt;</span><span>Page contents</span></a></p>
        </div>

        <div id="right_sidebar">
            <p><a class="toggle_right_sidebar" href="#"><span class="icon">&gt;</span><span>Page contents:</span></a></p>
            <div class="page_toc">
                <ul>
<li><a class="reference internal" href="#">6.2. Ciclo di Vita degli Attestati Elettronici</a><ul>
<li><a class="reference internal" href="#transizioni-degli-attestati-elettronici">6.2.1. Transizioni degli Attestati Elettronici</a><ul>
<li><a class="reference internal" href="#transizione-dell-attestato-elettronico-a-issued">6.2.1.1. Transizione dell'Attestato Elettronico a Issued</a></li>
<li><a class="reference internal" href="#transizione-dell-attestato-elettronico-a-valid">6.2.1.2. Transizione dell'Attestato Elettronico a Valid</a></li>
<li><a class="reference internal" href="#transizione-dell-attestato-elettronico-a-expired">6.2.1.3. Transizione dell'Attestato Elettronico a Expired</a></li>
<li><a class="reference internal" href="#transizione-dell-attestato-elettronico-a-revoked">6.2.1.4. Transizione dell'Attestato Elettronico a Revoked</a></li>
<li><a class="reference internal" href="#transizione-dell-attestato-elettronico-a-suspended">6.2.1.5. Transizione dell'Attestato Elettronico a Suspended</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gestione-del-ciclo-di-vita-degli-attestati-elettronici">6.2.2. Gestione del Ciclo di Vita degli Attestati Elettronici</a><ul>
<li><a class="reference internal" href="#revoca-e-sospensione-degli-attestati-elettronici">6.2.2.1. Revoca e Sospensione degli Attestati Elettronici</a></li>
<li><a class="reference internal" href="#entita-coinvolte">6.2.2.2. Entità Coinvolte</a></li>
<li><a class="reference internal" href="#flussi-di-aggiornamento-dello-stato">6.2.2.3. Flussi di Aggiornamento dello Stato</a><ul>
<li><a class="reference internal" href="#aggiornamento-dello-stato-relativo-all-utente">6.2.2.3.1. Aggiornamento dello Stato relativo all'Utente</a></li>
<li><a class="reference internal" href="#aggiornamento-dello-stato-da-parte-dell-istanza-del-wallet">6.2.2.3.2. Aggiornamento dello Stato da parte dell'Istanza del Wallet</a></li>
<li><a class="reference internal" href="#aggiornamento-dello-stato-da-parte-dei-fornitori-di-wallet">6.2.2.3.3. Aggiornamento dello Stato da parte dei Fornitori di Wallet</a></li>
<li><a class="reference internal" href="#aggiornamento-dello-stato-da-parte-delle-fonti-autentiche">6.2.2.3.4. Aggiornamento dello Stato da parte delle Fonti Autentiche</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#meccanismi-di-verifica-della-validita">6.2.3. Meccanismi di Verifica della Validità</a><ul>
<li><a class="reference internal" href="#oauth-status-assertions">6.2.3.1. OAuth Status Assertions</a><ul>
<li><a class="reference internal" href="#gestione-dello-stato-degli-attestati-elettronici-con-oauth-status-assertion">6.2.3.1.1. Gestione dello Stato degli Attestati Elettronici con OAuth Status Assertion</a></li>
<li><a class="reference internal" href="#verifica-dello-stato-degli-attestati-elettronici-da-parte-dell-istanza-del-wallet">6.2.3.1.2. Verifica dello Stato degli Attestati Elettronici da parte dell'Istanza del Wallet</a><ul>
<li><a class="reference internal" href="#http-status-assertion-request">6.2.3.1.2.1. HTTP Status Assertion Request</a></li>
<li><a class="reference internal" href="#http-status-assertion-response">6.2.3.1.2.2. HTTP Status Assertion Response</a></li>
</ul>
</li>
<li><a class="reference internal" href="#verifica-dello-stato-degli-attestati-elettronici-da-parte-della-relying-party">6.2.3.1.3. Verifica dello Stato degli Attestati Elettronici da parte della Relying Party</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#oauth-status-lists">6.2.4. OAuth Status Lists</a><ul>
<li><a class="reference internal" href="#creazione-delle-status-list">6.2.4.1. Creazione delle Status List</a><ul>
<li><a class="reference internal" href="#token-di-status-list">6.2.4.1.1. Token di Status List</a></li>
<li><a class="reference internal" href="#gestione-dello-stato-degli-attestati-elettronici-con-token-di-status-list">6.2.4.1.2. Gestione dello Stato degli Attestati Elettronici con Token di Status List</a></li>
<li><a class="reference internal" href="#verifica-degli-stati-degli-attestati-elettronici">6.2.4.1.3. Verifica degli Stati degli Attestati Elettronici</a><ul>
<li><a class="reference internal" href="#richiesta-http-di-status-list">6.2.4.1.3.1. Richiesta HTTP di Status List</a></li>
<li><a class="reference internal" href="#risposta-http-di-status-list">6.2.4.1.3.2. Risposta HTTP di Status List</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        </div>
    

      <div class="clearer"></div>
    </div>
    <div class="button_nav_wrapper">
        <div class="button_nav">
            <div class="left">
                
                <a href="credential-data-model.html">
                    <span class="icon">&lt;</span><span><span class="section-number">6.1. </span>Modello di Dati degli Attestati Elettronici</span></a>
                
            </div>

            <div class="right">
                
                    <a href="registry-catalogue.html"><span><span class="section-number">6.3. </span>Catalogo degli Attestati Elettronici</span><span class="icon">&gt;</span></a>
                
            </div>
        </div>
    </div>


    <div class="footer" role="contentinfo">
      Ultimo aggiornamento 30/05/2025.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.4.5.
    </div>

<p id="theme_credit"></p>
  </body>
</html>