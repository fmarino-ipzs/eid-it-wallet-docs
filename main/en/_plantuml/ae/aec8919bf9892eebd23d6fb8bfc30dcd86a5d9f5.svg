<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1364px" preserveAspectRatio="none" style="width:1479px;height:1364px;background:#FFFFFF;" version="1.1" viewBox="0 0 1479 1364" width="1479px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1352.0469" style="stroke:#181818;stroke-width:0.5;" width="436.3169" x="90.9102" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138.0107" x="240.0632" y="18.0669">User's smartphone</text><rect fill="none" height="98.2031" style="stroke:#000000;stroke-width:1.5;" width="1325.2476" x="9" y="358.8906"/><rect fill="none" height="387.5313" style="stroke:#000000;stroke-width:1.5;" width="1414.8994" x="9" y="919.2188"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="1267.3203" width="8" x="57.9551" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="61" x2="61" y1="56.4297" y2="1323.75"/></g><g><title>Browser</title><rect fill="#000000" fill-opacity="0.00000" height="1267.3203" width="8" x="126.4297" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="129.9102" x2="129.9102" y1="56.4297" y2="1323.75"/></g><g><title>Wallet Instance</title><rect fill="#000000" fill-opacity="0.00000" height="1267.3203" width="8" x="458.0762" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="461.9253" x2="461.9253" y1="56.4297" y2="1323.75"/></g><g><title>Credential Issuer</title><rect fill="#000000" fill-opacity="0.00000" height="1267.3203" width="8" x="1278.8604" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1282.4731" x2="1282.4731" y1="56.4297" y2="1323.75"/></g><g class="participant participant-head" data-participant="u"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="39" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="46" y="45.1279">User</text></g><g class="participant participant-tail" data-participant="u"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="39" y="1322.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="46" y="1342.7451">User</text></g><g class="participant participant-head" data-participant="ua"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="94.9102" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="101.9102" y="45.1279">Browser</text></g><g class="participant participant-tail" data-participant="ua"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="94.9102" y="1322.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="101.9102" y="1342.7451">Browser</text></g><g class="participant participant-head" data-participant="w"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="400.9253" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="407.9253" y="45.1279">Wallet Instance</text></g><g class="participant participant-tail" data-participant="w"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="400.9253" y="1322.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="407.9253" y="1342.7451">Wallet Instance</text></g><g class="participant participant-head" data-participant="i"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.7744" x="1216.4731" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.7744" x="1223.4731" y="45.1279">Credential Issuer</text></g><g class="participant participant-tail" data-participant="i"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.7744" x="1216.4731" y="1322.75"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.7744" x="1223.4731" y="1342.7451">Credential Issuer</text></g><rect fill="#90EE90" height="23" style="stroke:#181818;stroke-width:0.5;" width="943" x="400" y="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476.5186" x="633.4019" y="87.4966">Check Credential Issuer is part of the Federation and obtain its metadata</text><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="120.6953" y2="120.6953"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="120.6953" y2="133.6953"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="133.6953" y2="133.6953"/><polygon fill="#181818" points="473.0762,129.6953,463.0762,133.6953,473.0762,137.6953,469.0762,133.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="469.0762" y="115.6294">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.9268" x="482.1216" y="115.6294">create PKCE code verifier and WA-PoP</text></g><g class="message" data-participant-1="w" data-participant-2="i"><polygon fill="#181818" points="1270.8604,204.2266,1280.8604,208.2266,1270.8604,212.2266,1274.8604,208.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="1276.8604" y1="208.2266" y2="208.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="469.0762" y="180.4614">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4917" x="482.1216" y="157.7622">PAR Request (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.2017" x="490.3862" y="172.895">client_id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.7739" x="490.3862" y="188.0278">request)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504.7593" x="490.3862" y="203.1606">with OAuth-Client-Attestation and OAuth-Client-Attestation-PoP in the Header</text></g><rect fill="#90EE90" height="38" style="stroke:#181818;stroke-width:0.5;" width="381" x="1092" y="221.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9414" x="1096" y="237.2935">Check Wallet Provider is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.875" x="1096" y="252.4263">Check signature of the Wallet Attestation and its validity</text><g class="message" data-participant-1="i" data-participant-2="w"><polygon fill="#181818" points="473.0762,281.625,463.0762,285.625,473.0762,289.625,469.0762,285.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="467.0762" x2="1281.8604" y1="285.625" y2="285.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="479.0762" y="280.5591">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254.8774" x="492.1216" y="280.5591">PAR Response (request_uri, expires_in)</text></g><g class="message" data-participant-1="w" data-participant-2="ua"><polygon fill="#181818" points="141.4297,310.7578,131.4297,314.7578,141.4297,318.7578,137.4297,314.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="135.4297" x2="461.0762" y1="314.7578" y2="314.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="147.4297" y="309.6919">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.6011" x="160.4751" y="309.6919">Authorization Request (client_id, request_uri)</text></g><g class="message" data-participant-1="ua" data-participant-2="i"><polygon fill="#181818" points="1270.8604,339.8906,1280.8604,343.8906,1270.8604,347.8906,1274.8604,343.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="130.4297" x2="1276.8604" y1="343.8906" y2="343.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="137.4297" y="338.8247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.6011" x="150.4751" y="338.8247">Authorization Request (client_id, request_uri)</text></g><path d="M9,358.8906 L73.4429,358.8906 L73.4429,366.0234 L63.4429,376.0234 L9,376.0234 L9,358.8906" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="98.2031" style="stroke:#000000;stroke-width:1.5;" width="1325.2476" x="9" y="358.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="24" y="371.9575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121.7788" x="88.4429" y="371.1011">[Credential == PID]</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1305" x="19" y="381.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="621.0166" x="361.1155" y="397.0903">user authentication with CieID LoA High (L3) and consent (optionally collecting user's contacts)</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="1334.2476" y1="410.1563" y2="410.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.4668" x="14" y="420.3667">[Credential == (Q)EAA)]</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1305" x="19" y="428.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="516.147" x="413.5503" y="445.0278">user authentication with PID and consent (optionally collecting user's contacts)</text><g class="message" data-participant-1="i" data-participant-2="ua"><polygon fill="#181818" points="141.4297,481.2266,131.4297,485.2266,141.4297,489.2266,137.4297,485.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="135.4297" x2="1281.8604" y1="485.2266" y2="485.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="147.4297" y="480.1606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.4683" x="160.4751" y="480.1606">Authorization Response (code, state, iss)</text></g><g class="message" data-participant-1="ua" data-participant-2="w"><polygon fill="#181818" points="450.0762,510.3594,460.0762,514.3594,450.0762,518.3594,454.0762,514.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="130.4297" x2="456.0762" y1="514.3594" y2="514.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="137.4297" y="509.2935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.4683" x="150.4751" y="509.2935">Authorization Response (code, state, iss)</text></g><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="543.4922" y2="543.4922"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="543.4922" y2="556.4922"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="556.4922" y2="556.4922"/><polygon fill="#181818" points="473.0762,552.4922,463.0762,556.4922,473.0762,560.4922,469.0762,556.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="469.0762" y="538.4263">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.0205" x="482.1216" y="538.4263">generate DPoP key</text></g><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="585.625" y2="585.625"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="585.625" y2="598.625"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="598.625" y2="598.625"/><polygon fill="#181818" points="473.0762,594.625,463.0762,598.625,473.0762,602.625,469.0762,598.625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="469.0762" y="580.5591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="456.8281" x="482.1216" y="580.5591">generate DPoP proof and WA-PoP for Credential Issuer token endpoint</text></g><g class="message" data-participant-1="w" data-participant-2="i"><polygon fill="#181818" points="1270.8604,699.4219,1280.8604,703.4219,1270.8604,707.4219,1274.8604,703.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="1276.8604" y1="703.4219" y2="703.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="660.5239">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.0874" x="491.167" y="622.6919">Token Request with DPoP proof (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.5723" x="499.4316" y="637.8247">grant_type,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.4834" x="499.4316" y="652.9575">code,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1626" x="499.4316" y="668.0903">code_verifier,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.5615" x="499.4316" y="683.2231">redirect_uri)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504.7593" x="495.2993" y="698.356">with OAuth-Client-Attestation and OAuth-Client-Attestation-PoP in the Header</text></g><g class="message" data-participant-1="i" data-participant-2="w"><polygon fill="#181818" points="473.0762,728.5547,463.0762,732.5547,473.0762,736.5547,469.0762,732.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="732.5547" y2="732.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="479.0762" y="727.4888">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="460.9731" x="501.167" y="727.4888">Token Response (access_token, refresh_token, token_type, expires_in)</text></g><g class="message" data-participant-1="w" data-participant-2="i"><polygon fill="#181818" points="1270.8604,757.6875,1280.8604,761.6875,1270.8604,765.6875,1274.8604,761.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="1276.8604" y1="761.6875" y2="761.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="756.6216">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7012" x="491.167" y="756.6216">Nonce Request HTTP POST /nonce</text></g><g class="message" data-participant-1="i" data-participant-2="w"><polygon fill="#181818" points="473.0762,786.8203,463.0762,790.8203,473.0762,794.8203,469.0762,790.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="790.8203" y2="790.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="479.0762" y="785.7544">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.7158" x="501.167" y="785.7544">Nonce Response (c_nonce)</text></g><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="819.9531" y2="819.9531"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="819.9531" y2="832.9531"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="832.9531" y2="832.9531"/><polygon fill="#181818" points="473.0762,828.9531,463.0762,832.9531,473.0762,836.9531,469.0762,832.9531" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="814.8872">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.1606" x="491.167" y="814.8872">create proof of possession (c_nonce)</text></g><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="862.0859" y2="862.0859"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="862.0859" y2="875.0859"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="875.0859" y2="875.0859"/><polygon fill="#181818" points="473.0762,871.0859,463.0762,875.0859,473.0762,879.0859,469.0762,875.0859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="857.02">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="385.144" x="491.167" y="857.02">create DPoP proof for Credential Issuer credential endpoint</text></g><g class="message" data-participant-1="w" data-participant-2="i"><polygon fill="#181818" points="1270.8604,900.2188,1280.8604,904.2188,1270.8604,908.2188,1274.8604,904.2188" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="1276.8604" y1="904.2188" y2="904.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="899.1528">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="774.6934" x="491.167" y="899.1528">Credential Request with DPoP access_token and DPoP proof (credential_identifier or credential_configuration_id, proof)</text></g><path d="M9,919.2188 L73.4429,919.2188 L73.4429,926.3516 L63.4429,936.3516 L9,936.3516 L9,919.2188" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="387.5313" style="stroke:#000000;stroke-width:1.5;" width="1414.8994" x="9" y="919.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="24" y="932.2856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148.4624" x="88.4429" y="931.4292">[Credential is available]</text><g class="message" data-participant-1="i" data-participant-2="w"><polygon fill="#181818" points="473.0762,953.4844,463.0762,957.4844,473.0762,961.4844,469.0762,957.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="957.4844" y2="957.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="479.0762" y="952.4185">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.3979" x="501.167" y="952.4185">Credential Response (credentials, notification_id)</text></g><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="986.6172" y2="986.6172"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="986.6172" y2="999.6172"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="999.6172" y2="999.6172"/><polygon fill="#181818" points="473.0762,995.6172,463.0762,999.6172,473.0762,1003.6172,469.0762,999.6172" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="981.5513">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.9702" x="491.167" y="981.5513">PID/(Q)EAA validity and status check</text></g><g class="message" data-participant-1="w" data-participant-2="u"><polygon fill="#181818" points="72.9551,1024.75,62.9551,1028.75,72.9551,1032.75,68.9551,1028.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="66.9551" x2="461.0762" y1="1028.75" y2="1028.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="78.9551" y="1023.6841">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.6182" x="101.0459" y="1023.6841">ask for User consent</text></g><g class="message" data-participant-1="u" data-participant-2="w"><polygon fill="#181818" points="450.0762,1053.8828,460.0762,1057.8828,450.0762,1061.8828,454.0762,1057.8828" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="61.9551" x2="456.0762" y1="1057.8828" y2="1057.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="68.9551" y="1052.8169">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200.7954" x="91.0459" y="1052.8169">consent to store the credential</text></g><g class="message" data-participant-1="w" data-participant-2="w"><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="504.0762" y1="1087.0156" y2="1087.0156"/><line style="stroke:#181818;stroke-width:1;" x1="504.0762" x2="504.0762" y1="1087.0156" y2="1100.0156"/><line style="stroke:#181818;stroke-width:1;" x1="463.0762" x2="504.0762" y1="1100.0156" y2="1100.0156"/><polygon fill="#181818" points="473.0762,1096.0156,463.0762,1100.0156,473.0762,1104.0156,469.0762,1100.0156" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="1081.9497">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5654" x="491.167" y="1081.9497">store credential</text></g><g class="message" data-participant-1="w" data-participant-2="i"><polygon fill="#181818" points="1270.8604,1140.2813,1280.8604,1144.2813,1270.8604,1148.2813,1274.8604,1144.2813" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="462.0762" x2="1276.8604" y1="1144.2813" y2="1144.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="469.0762" y="1131.6489">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440.7939" x="491.167" y="1124.0825">Notification Request HTTP POST /notification (notification_id, event)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.0122" x="495.2993" y="1139.2153">with DPoP Access Token</text></g><rect fill="#ADD8E6" height="38" style="stroke:#181818;stroke-width:0.5;" width="263" x="1150" y="1157.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.2544" x="1154" y="1173.3481">Register all the credential-related</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.6348" x="1154" y="1188.481">information for verification/revocation</text><g class="message" data-participant-1="i" data-participant-2="w"><polygon fill="#181818" points="473.0762,1217.6797,463.0762,1221.6797,473.0762,1225.6797,469.0762,1221.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="1221.6797" y2="1221.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="479.0762" y="1216.6138">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.9619" x="501.167" y="1216.6138">Notification Response HTTP 204 No Content</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="1423.8994" y1="1230.6797" y2="1230.6797"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178.3525" x="14" y="1240.8901">[Credential is NOT available]</text><g class="message" data-participant-1="i" data-participant-2="w"><polygon fill="#181818" points="473.0762,1261.6172,463.0762,1265.6172,473.0762,1269.6172,469.0762,1265.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="1265.6172" y2="1265.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="479.0762" y="1260.5513">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.3872" x="501.167" y="1260.5513">Credential Response (lead_time, transaction_id)</text></g><rect fill="#FEFFDD" height="23" style="stroke:#181818;stroke-width:0.5;" width="1305" x="19" y="1278.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="796.4595" x="273.394" y="1294.6841">The Wallet Instance, after an amount of time specified by lead_time and when triggered by the User, starts the flow again</text><!--SRC=[hLRRRkCs47tdLmoo3xK16odQFYsm1Hp7NHiD4ZVr8Yy514QYvK5aKkN5MlVhEoHreI_R8cW10x8uGyxCcNE6uiugwVQlGZDMSsqnnvfB2pTVZD0tm0qunbxLrxZmdG6p9wzwfwIuWGyFMExiNUN4wTuxhPf-Ep-rlV2g4XPMqbWkSn5y6YPa0HJbB8Uv5eMG5da5AsDSUo8ofgMo0jH1Q6WcI7ciFYytdvyNYqSstudy3Ivs0XhmPuFQWjq9-8NicbjK4ZZ5Lg-MemIq1lR2ye9RxdCASHXhOFepDF0HSYqu1Lx_Ebz0hWe1b05kaOxtXxpCfckrRjsHtDUpPtWMVpfXB8p-a01vXPHLXiN4l-be6eD_QT3ku6dcx6uw3rxJcRLa7NBybj471KhUbxKKdEfAyRc6Jjk3jLO7BFuHctQ3mL9owxJeNDeJpbFq-1ruXGNQ8oG0CeHf2s74nDHA6W6Z5eBCQPo0-5gZ5YP3EMO1HThY-4VmTIkDVyKuFQ03c90SCsQEXvtuxesCLpPbpgTFi5xTdu0vSV3XPRdQB9WplkiKm3ldCKBeuHp5wXuUr0oMf0uOFVmu3jZalc9YzKZLtfa0FD8QmPXRb2MuA2_oiZotPZoW9of2wZIjqM_ZnMmsVczgLCr_J4KMNIy9vKk0kxPwRKp0CuCUQ4pVbEPTcmRXbK9wIWguzsH_4yTlscgjYAE3766hz9LnODMRa43rr0gbPObeDy7IaINWbXmSP5ng6a-PFTOYw3Watlt9kf7GIhmWIkUHO5xd_wlCVIiY1btI7POypuKnMQZIitnBkjfrh-4Hqp_LN8_1ewBHt6Emt6pMi7xwVGEtqXkIk9rZtyCiU8mlPsQ4ZtwrCePoy-MUk9_v9vXVxs0-h0njx2j8_2zRcQ8JC4yRF9nB4yB_2VDTfG4paiOMInU7P1WaOVFb2A79oWySA_vQ2M09S2VvzUZrYsO293WAdNSXKaX9nxTn10pJrfVXcU98k7vcj-wEtBbv2nZw6xpJFdCztkqmi8hsAnhndc139adOQBumHS8CoLxdJM8VdPL6B3pGYOC-GZjceKcHsUpQZNRty6N1daM9nlfvLrLdcK-rg8X91J2KLFu-1lT0H8d6-BTQ75IRM7fb9HG_AQtjLQZjX-z_8ZFCQL1wI2ycDNN_yMapCE1Vsb-HgZEBUvAbfGbZQFXslK_ATnDac-4AxZwa9i2t0GTYz5uv6MzpEWnCBN9FOlh2Ea8V8n2ceIk2Oc5P2Xtj7aBFap28DLtdVc5RgGPuILz89rV1tm00]--></g></svg>