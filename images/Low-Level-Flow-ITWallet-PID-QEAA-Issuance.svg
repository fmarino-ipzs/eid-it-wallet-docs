<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1320px" preserveAspectRatio="none" style="width:1484px;height:1320px;background:#FFFFFF;" version="1.1" viewBox="0 0 1484 1320" width="1484px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1308.9141" style="stroke:#181818;stroke-width:0.5;" width="436.3169" x="95.9102" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="138.0107" x="245.0632" y="18.0669">User's smartphone</text><rect fill="#FFFFFF" fill-opacity="0.00000" height="98.2031" style="stroke:#000000;stroke-width:1.5;" width="1336.1885" x="9" y="358.8906"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="329.2656" style="stroke:#000000;stroke-width:1.5;" width="1419.8994" x="9" y="934.3516"/><g><title>User</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1224.1875" width="8" x="62.9551" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66" x2="66" y1="56.4297" y2="1280.6172"/></g><g><title>Browser</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1224.1875" width="8" x="131.4297" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="134.9102" x2="134.9102" y1="56.4297" y2="1280.6172"/></g><g><title>Wallet Instance</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1224.1875" width="8" x="463.0762" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="466.9253" x2="466.9253" y1="56.4297" y2="1280.6172"/></g><g><title>PID/(Q)EAA Provider</title><rect fill="#FFFFFF" fill-opacity="0.00000" height="1224.1875" width="8" x="1283.8604" y="56.4297"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1287.5322" x2="1287.5322" y1="56.4297" y2="1280.6172"/></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="44" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="51" y="45.1279">User</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="45.9102" x="44" y="1279.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="51" y="1299.6123">User</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="99.9102" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="106.9102" y="45.1279">Browser</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71.0391" x="99.9102" y="1279.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57.0391" x="106.9102" y="1299.6123">Browser</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="405.9253" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="412.9253" y="45.1279">Wallet Instance</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.3018" x="405.9253" y="1279.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.3018" x="412.9253" y="1299.6123">Wallet Instance</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.6563" x="1210.5322" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.6563" x="1217.5322" y="45.1279">PID/(Q)EAA Provider</text></g><g><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.6563" x="1210.5322" y="1279.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.6563" x="1217.5322" y="1299.6123">PID/(Q)EAA Provider</text></g><rect fill="#90EE90" height="23" style="stroke:#181818;stroke-width:0.5;" width="954" x="400" y="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="496.8374" x="628.7129" y="87.4966">Check PID/(Q)EAA Provider is part of the Federation and obtain its metadata</text><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="120.6953" y2="120.6953"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="120.6953" y2="133.6953"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="133.6953" y2="133.6953"/><polygon fill="#181818" points="478.0762,129.6953,468.0762,133.6953,478.0762,137.6953,474.0762,133.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="474.0762" y="115.6294">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251.7607" x="487.1216" y="115.6294">create PKCE code verifier and WIA-PoP</text></g><g><polygon fill="#181818" points="1275.8604,204.2266,1285.8604,208.2266,1275.8604,212.2266,1279.8604,208.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="208.2266" y2="208.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="474.0762" y="180.4614">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4917" x="487.1216" y="157.7622">PAR Request (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.2017" x="495.3862" y="172.895">client_id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54.7739" x="495.3862" y="188.0278">request)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504.7593" x="495.3862" y="203.1606">with OAuth-Client-Attestation and OAuth-Client-Attestation-PoP in the Header</text></g><rect fill="#90EE90" height="38" style="stroke:#181818;stroke-width:0.5;" width="381" x="1097" y="221.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.9414" x="1101" y="237.2935">Check Wallet Provider is part of the Federation</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.875" x="1101" y="252.4263">Check signature of the Wallet Attestation and its validity</text><g><polygon fill="#181818" points="478.0762,281.625,468.0762,285.625,478.0762,289.625,474.0762,285.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="472.0762" x2="1286.8604" y1="285.625" y2="285.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="484.0762" y="280.5591">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="254.8774" x="497.1216" y="280.5591">PAR Response (request_uri, expires_in)</text></g><g><polygon fill="#181818" points="146.4297,310.7578,136.4297,314.7578,146.4297,318.7578,142.4297,314.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="140.4297" x2="466.0762" y1="314.7578" y2="314.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="152.4297" y="309.6919">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.6011" x="165.4751" y="309.6919">Authorization Request (client_id, request_uri)</text></g><g><polygon fill="#181818" points="1275.8604,339.8906,1285.8604,343.8906,1275.8604,347.8906,1279.8604,343.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="135.4297" x2="1281.8604" y1="343.8906" y2="343.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="142.4297" y="338.8247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.6011" x="155.4751" y="338.8247">Authorization Request (client_id, request_uri)</text></g><path d="M9,358.8906 L73.4429,358.8906 L73.4429,366.0234 L63.4429,376.0234 L9,376.0234 L9,358.8906 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="98.2031" style="stroke:#000000;stroke-width:1.5;" width="1336.1885" x="9" y="358.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="24" y="371.9575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121.7788" x="88.4429" y="371.1011">[Credential == PID]</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1316" x="19" y="381.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="459.4878" x="447.3503" y="397.0903">user authentication with national eIDAS notified Schemes and consent</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="1345.1885" y1="410.1563" y2="410.1563"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.4668" x="14" y="420.3667">[Credential == (Q)EAA)]</text><rect fill="#FFFFFF" height="23" style="stroke:#181818;stroke-width:0.5;" width="1316" x="19" y="428.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.6899" x="542.7493" y="445.0278">user authentication with PID and consent</text><g><polygon fill="#181818" points="146.4297,481.2266,136.4297,485.2266,146.4297,489.2266,142.4297,485.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="140.4297" x2="1286.8604" y1="485.2266" y2="485.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="152.4297" y="480.1606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.4683" x="165.4751" y="480.1606">Authorization Response (code, state, iss)</text></g><g><polygon fill="#181818" points="455.0762,510.3594,465.0762,514.3594,455.0762,518.3594,459.0762,514.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="135.4297" x2="461.0762" y1="514.3594" y2="514.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="142.4297" y="509.2935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266.4683" x="155.4751" y="509.2935">Authorization Response (code, state, iss)</text></g><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="543.4922" y2="543.4922"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="543.4922" y2="556.4922"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="556.4922" y2="556.4922"/><polygon fill="#181818" points="478.0762,552.4922,468.0762,556.4922,478.0762,560.4922,474.0762,556.4922" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="474.0762" y="538.4263">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124.0205" x="487.1216" y="538.4263">generate DPoP key</text></g><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="585.625" y2="585.625"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="585.625" y2="598.625"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="598.625" y2="598.625"/><polygon fill="#181818" points="478.0762,594.625,468.0762,598.625,478.0762,602.625,474.0762,598.625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="474.0762" y="580.5591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480.981" x="487.1216" y="580.5591">generate DPoP proof and WIA-PoP for PID/(Q)EAA Provider token endpoint</text></g><g><polygon fill="#181818" points="1275.8604,714.5547,1285.8604,718.5547,1275.8604,722.5547,1279.8604,718.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="718.5547" y2="718.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="668.0903">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214.0874" x="496.167" y="622.6919">Token Request with DPoP proof (</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.2017" x="504.4316" y="637.8247">client_id,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74.5723" x="504.4316" y="652.9575">grant_type,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="35.4834" x="504.4316" y="668.0903">code,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1626" x="504.4316" y="683.2231">code_verifier,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="79.5615" x="500.2993" y="698.356">redirect_uri)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="504.7593" x="500.2993" y="713.4888">with OAuth-Client-Attestation and OAuth-Client-Attestation-PoP in the Header</text></g><g><polygon fill="#181818" points="478.0762,743.6875,468.0762,747.6875,478.0762,751.6875,474.0762,747.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="747.6875" y2="747.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="742.6216">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.1177" x="506.167" y="742.6216">Token Response (access_token, token_type, expires_in)</text></g><g><polygon fill="#181818" points="1275.8604,772.8203,1285.8604,776.8203,1275.8604,780.8203,1279.8604,776.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="776.8203" y2="776.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="771.7544">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222.7012" x="496.167" y="771.7544">Nonce Request HTTP POST /nonce</text></g><g><polygon fill="#181818" points="478.0762,801.9531,468.0762,805.9531,478.0762,809.9531,474.0762,805.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="805.9531" y2="805.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="800.8872">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.7158" x="506.167" y="800.8872">Nonce Response (c_nonce)</text></g><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="835.0859" y2="835.0859"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="835.0859" y2="848.0859"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="848.0859" y2="848.0859"/><polygon fill="#181818" points="478.0762,844.0859,468.0762,848.0859,478.0762,852.0859,474.0762,848.0859" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="830.02">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239.1606" x="496.167" y="830.02">create proof of possession (c_nonce)</text></g><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="877.2188" y2="877.2188"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="877.2188" y2="890.2188"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="890.2188" y2="890.2188"/><polygon fill="#181818" points="478.0762,886.2188,468.0762,890.2188,478.0762,894.2188,474.0762,890.2188" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="872.1528">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="405.4629" x="496.167" y="872.1528">create DPoP proof for PID/(Q)EAA Provider credential endpoint</text></g><g><polygon fill="#181818" points="1275.8604,915.3516,1285.8604,919.3516,1275.8604,923.3516,1279.8604,919.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="919.3516" y2="919.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="914.2856">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="774.6934" x="496.167" y="914.2856">Credential Request with DPoP access_token and DPoP proof (credential_identifier or credential_configuration_id, proof)</text></g><path d="M9,934.3516 L73.4429,934.3516 L73.4429,941.4844 L63.4429,951.4844 L9,951.4844 L9,934.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" fill-opacity="0.00000" height="329.2656" style="stroke:#000000;stroke-width:1.5;" width="1419.8994" x="9" y="934.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="24" y="947.4185">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148.4624" x="88.4429" y="946.562">[Credential is available]</text><g><polygon fill="#181818" points="478.0762,968.6172,468.0762,972.6172,478.0762,976.6172,474.0762,972.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="972.6172" y2="972.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="967.5513">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.3979" x="506.167" y="967.5513">Credential Response (credentials, notification_id)</text></g><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="1001.75" y2="1001.75"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="1001.75" y2="1014.75"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="1014.75" y2="1014.75"/><polygon fill="#181818" points="478.0762,1010.75,468.0762,1014.75,478.0762,1018.75,474.0762,1014.75" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="996.6841">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.9702" x="496.167" y="996.6841">PID/(Q)EAA validity and status check</text></g><g><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="509.0762" y1="1043.8828" y2="1043.8828"/><line style="stroke:#181818;stroke-width:1;" x1="509.0762" x2="509.0762" y1="1043.8828" y2="1056.8828"/><line style="stroke:#181818;stroke-width:1;" x1="468.0762" x2="509.0762" y1="1056.8828" y2="1056.8828"/><polygon fill="#181818" points="478.0762,1052.8828,468.0762,1056.8828,478.0762,1060.8828,474.0762,1056.8828" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1038.8169">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.5654" x="496.167" y="1038.8169">store credential</text></g><g><polygon fill="#181818" points="1275.8604,1097.1484,1285.8604,1101.1484,1275.8604,1105.1484,1279.8604,1101.1484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="467.0762" x2="1281.8604" y1="1101.1484" y2="1101.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="474.0762" y="1088.5161">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="440.7939" x="496.167" y="1080.9497">Notification Request HTTP POST /notification (notification_id, event)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.0122" x="500.2993" y="1096.0825">with DPoP Access Token</text></g><rect fill="#ADD8E6" height="38" style="stroke:#181818;stroke-width:0.5;" width="263" x="1155" y="1114.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219.2544" x="1159" y="1130.2153">Register all the credential-related</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="247.6348" x="1159" y="1145.3481">information for verification/revocation</text><g><polygon fill="#181818" points="478.0762,1174.5469,468.0762,1178.5469,478.0762,1182.5469,474.0762,1178.5469" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="1178.5469" y2="1178.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="1173.481">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.9619" x="506.167" y="1173.481">Notification Response HTTP 204 No Content</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="9" x2="1428.8994" y1="1187.5469" y2="1187.5469"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178.3525" x="14" y="1197.7573">[Credential is NOT available]</text><g><polygon fill="#181818" points="478.0762,1218.4844,468.0762,1222.4844,478.0762,1226.4844,474.0762,1222.4844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="472.0762" x2="1286.8604" y1="1222.4844" y2="1222.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="484.0762" y="1217.4185">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.3872" x="506.167" y="1217.4185">Credential Response (lead_time, transaction_id)</text></g><rect fill="#FEFFDD" height="23" style="stroke:#181818;stroke-width:0.5;" width="1316" x="19" y="1235.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="796.4595" x="278.8645" y="1251.5513">The Wallet Instance, after an amount of time specified by lead_time and when triggered by the User, starts the flow again</text><!--SRC=[hLPjQ-Cu4FwkNp5qFsm33bsE-xIm1scQRSELDjTcwPS3ezWJHzIHV98SR-_NxqZoYzoax1OM0h4rxyypCpAlhPBrVeEQiOfhAp9HSMdXx9j1VGRSGCtOHdqF1nyDc3rfLJibyGm-t8fYPo_B6iUsbrerlJaVovvuMQA5fJIMomozJiDGva1HNkMmMbvTdFypMSnciDBg8FBMfs1CIsKHr04rD8cWJ9RND-lhXyNYZirtc3t32LiG1fn_K5kmEuIlI8VS2YM1KtoriLn84DR07YtFkUKkBn-9iGQcVq43do7Jo2dqwk_v0ZAL8r0EOYl8lNFoj9nDLshLwWlINyqUu07_gz5OEFzN0cIbG6bJaIVkJGVH1DnB8-mExcUrtKtdNciwivQaGv9l2LrGeEnTNJV8gR0OebC0jKJy0ZYjWH65vBRMsAcq7bwdw00yy5Bamhv0X20JC6qn39YOIac3SDv2aDPQ983VAw7Hf49Ec4UHJ6h-6LpTIel_GvmUq05CYDnCMCszfNYt8UEbXRccwgKLl8GlNrmhZS1CQlZmTBDSBrXj7EqKm2bd8OBdKFfdCiVbrUmHoDYrI0wFsGxtQ3nEcQjUsW4XB0cDSUZGmPFtXgUCtmWXyuu7GkWOd8uIrzW9E5RfJnZJ0zgyosYOcWAbQoU4AzUep_ZofgpIYlehcYNOAdrodArwHWbKKgK45HdDtDfBEguz997l4rDOQ5eugNsfqB_wIhg7j1jmTqBiK7jceLdSpFxMaNNK14ow2ZfiUPQXCQalEGcLXtJ70zCZSATekVO8tApNArZTFwxXGZf15AXJx4bClSRaUEC5yEXNAMCe6LVVIFsLVeJuMmncGxCFDFOrHADmJ6KCY8Sv9dZmImIx1x-VLHmmfTdOYg8EEyxl0Mzyl05eCV835oNVb0WiWcwKNuzVVsYITkwpBaGCQWH7lonT6QuvQWEPMxcHkh6A5k_WV4Jr4EGquv7y_5LAr3y7yZYqieTnvi4DJSXENIINjzyMx04BOQnRGMNfktX8Rwgnf1x8WGb9vEz3SDS6OPX2_0kD1zKc5jyKKNEEIcinzhNzyUbF4iDSIUistD7o9DRkxjS3Sp-XhQG1JAtOqq1PsWM6PprdKVbr8jXwkFcwZvW4-DRZG9suLxKCboWv0rDX5ZR_vWNw69xeXhOsnH95WJh87OJkAyllK4stg3lObge1Nj2NoMYB_m00]--></g></svg>